
<!doctype html>
<html lang="ja">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>L'Atomos シミュレーター</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap');
    
    body {
      box-sizing: border-box;
      font-family: 'Noto Sans JP', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
      background: linear-gradient(135deg, #FFF9F0 0%, #FFF5E8 50%, #F5F0E8 100%);
      color: #5A5550;
    }

    
    * {
      box-sizing: border-box;
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Noto Sans JP', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
      font-weight: 600;
      letter-spacing: 0.02em;
    }
    
    .tab-button {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-family: 'Noto Sans JP', sans-serif;
      font-weight: 600;
      letter-spacing: 0.03em;
    }
    
    .tab-button.active {
      background: linear-gradient(135deg, #8B7355 0%, #6B5744 100%);
      color: white;
      box-shadow: 0 4px 12px rgba(107, 87, 68, 0.3);
    }
    
    .modal-backdrop {
      background-color: rgba(90, 85, 80, 0.4);
      backdrop-filter: blur(4px);
    }
    
    .slide-in {
      animation: slideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    .fade-in {
      animation: fadeIn 0.3s ease-out;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    
    .progress-bar {
      transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover:hover {
      box-shadow: 0 12px 24px rgba(255, 155, 113, 0.15);
      transform: translateY(-2px);
    }
    
    select, input, button {
      font-family: 'Noto Sans JP', sans-serif;
    }
    
    .radar-chart {
      width: 100%;
      height: 100%;
    }

    /* レーダーチャート用のレスポンシブコンテナ */
    .radar-container {
      width: 100%;
      max-width: 520px;
      aspect-ratio: 1 / 1;
      position: relative;
    }
    .top-nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: linear-gradient(180deg, rgba(255, 249, 240, 0.98) 0%, rgba(255, 245, 232, 0.95) 100%);
      backdrop-filter: blur(12px);
      box-shadow: 0 2px 16px rgba(139, 115, 85, 0.08);
      border-bottom: 1px solid rgba(139, 115, 85, 0.1);
    }
    
    .gradient-primary {
      background: linear-gradient(135deg, #8B7355 0%, #6B5744 100%);
    }
    
    .gradient-secondary {
      background: linear-gradient(135deg, #A0826D 0%, #8B7355 100%);
    }
    
    .gradient-accent {
      background: linear-gradient(135deg, #D4A574 0%, #C19A6B 100%);
    }
    
    .text-primary {
      color: #6B5744;
    }
    
    .text-secondary {
      color: #8B7355;
    }
    
    .text-accent {
      color: #C19A6B;
    }
    
    .border-primary {
      border-color: #8B7355;
    }
    
    .border-accent {
      border-color: #D4A574;
    }
    
    .bg-cream {
      background-color: #FFF9F0;
    }
    
    .bg-warm-white {
      background-color: #FFFBF5;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="bg-gray-50 min-h-full">
  <div id="app" class="h-full"></div>
  <script>
    // データ定義
    const HUMAN_POWERS = [
      { 
        key: "信頼構築力", 
        max: 4, 
        group: "② 対人（社会的認識）",
        definition: "「揺るぎない信頼で、人と人をつなぐ架け橋」 誠実な関わりを積み重ね、相手との信頼関係を築く力。",
        examples: [
          "約束を守り続け、人からの信頼を揺るがないものにしている。",
          "小さな誠実の積み重ねが、人から任される大きな責任につながっている。",
          "信頼を得ることで、周囲の人を巻き込み成果を広げている。"
        ],
        related: [
            { key: "倫理観", desc: "誠実さを判断軸とすることで、信頼が強固になる。" },
            { key: "対話力", desc: "対話を通じて相手の理解を深め、信頼を築く。" },
            { key: "感謝力", desc: "感謝の表現が、人との信頼をさらに確かなものにする。" }
        ],
        relatedWorks: ["情報共有", "チーム協働", "取引先対応・交渉", "コンプライアンス遵守"]
      },
      { 
        key: "対話力", 
        max: 4, 
        group: "② 対人（社会的認識）",
        definition: "「心と心を通わせ、深い絆を育むコミュニケーション」 相手と理解し合い、互いを成長させる関係を築く力。",
        examples: [
          "自分の意見を押しつけず、相手の本音を引き出している。",
          "対話を重ねることで、衝突を学びに変えている。",
          "率直なやり取りから、関係を長く育んでいる。"
        ],
        related: [
            { key: "他者受容・共感力", desc: "相手の気持ちを受け止めてこそ、対話が深まる。" },
            { key: "信頼構築力", desc: "対話を通じた誠実さが信頼を育てる。" },
            { key: "感謝力", desc: "感謝を言葉にすることで、対話がより温かくなる。" }
        ],
        relatedWorks: ["情報共有", "人材育成", "スタッフケア・対話", "取引先対応・交渉"]
      },
      { 
        key: "公共性", 
        max: 4, 
        group: "③ チーム（関係管理）",
        definition: "「自分だけでなく、社会全体の幸せを考える視点」 自分の利益だけでなく、社会全体の調和や善を考えて行動する力。",
        examples: [
          "目先の得よりも、長く続く良い関係を選んでいる。",
          "周囲の安心や公平を優先し、信頼されている。",
          "「みんなのため」の判断が、自分の誇りにもつながっている。"
        ],
        related: [
            { key: "倫理観", desc: "社会全体に目を向ける姿勢が倫理観を強化する。" },
            { key: "感謝力", desc: "人や社会に感謝するからこそ、公共性が育つ。" },
            { key: "柔軟性", desc: "多様な人や意見を受け入れる姿勢が、公共性を支える。" }
        ],
        relatedWorks: ["人材評価", "コンプライアンス遵守", "販促・プロモーション設計", "チーム協働"]
      },
      { 
        key: "倫理観", 
        max: 3, 
        group: "③ チーム（関係管理）",
        definition: "「人としての正しさを選び取る力」 法律や規則以前に、人としての誠実さを軸に行動する力。",
        examples: [
          "誰も見ていなくても、正しい行いを選んでいる。",
          "利益より誠実さを重んじ、信頼され続けている。",
          "道義を守る姿勢が、チームや社会の模範となっている。"
        ],
        related: [
            { key: "信頼構築力", desc: "倫理観に基づいた行動が、揺るぎない信頼をつくる。" },
            { key: "公共性", desc: "社会全体を考える視点が、倫理的判断を支える。" },
            { key: "行動力", desc: "信念を持って行動に移すことで、倫理観が生きる。" }
        ],
        relatedWorks: ["清潔・安全管理", "人材評価", "コンプライアンス遵守"]
      },
      { 
        key: "柔軟性", 
        max: 4, 
        group: "③ チーム（関係管理）",
        definition: "「変化をしなやかに受け入れ、進化し続ける力」 状況や意見の違いにこだわらず、しなやかに対応できる力。",
        examples: [
          "思い通りにいかなくても、すぐに切り替えている。",
          "多様な意見を受け止め、より良い解決策を見出している。",
          "変化を恐れず、進化の機会にしている。"
        ],
        related: [
            { key: "探究力", desc: "柔軟な姿勢が「なぜ？」を掘り下げる探究を助ける。" },
            { key: "公共性", desc: "多様性を受け入れる柔軟さが、みんなの利益につながる。" },
            { key: "企画力", desc: "変化に強い柔軟性が、新しい企画を生みやすくする。" }
        ],
        relatedWorks: ["市場分析・トレンド把握", "イベント企画・運営", "顧客体験・応対", "デジタルツール活用"]
      },
      { 
        key: "行動力", 
        max: 3, 
        group: "③ チーム（関係管理）",
        definition: "「描いた未来を、現実のものにする」 考えるだけでなく、実際に行動に移し、成果を生み出す力。",
        examples: [
          "迷っているだけで終わらず、すぐ動いている。",
          "失敗しても行動を続け、学びに変えている。",
          "行動を重ねることで、信頼と成果を手にしている。"
        ],
        related: [
            { key: "ビジョン構築力", desc: "行動によって、ビジョンが現実に近づく。" },
            { key: "自己信頼", desc: "自ら動き出すことで、自信がさらに強まる。" },
            { key: "倫理観", desc: "正しい行動を選び、成果につなげる。" }
        ],
        relatedWorks: ["主体性の発揮", "イベント企画・運営", "リスク・変化対応"]
      },
      { 
        key: "継続力", 
        max: 4, 
        group: "① 個人（自己認識・自己管理）",
        definition: "「小さな一歩を積み重ね、大きな力に変える挑戦者」 成果が見えにくくても、コツコツと行動を積み重ね、やり抜く力。",
        examples: [
          "結果が出なくても焦らず、一歩一歩積み重ねている。",
          "長期的な目標に対して、粘り強く挑戦を続けている。",
          "習慣化された努力を通して、確かな成果を築いている。"
        ],
        related: [
            { key: "セルフマネジメント", desc: "体調や感情を整えることで継続を支える。" },
            { key: "行動力", desc: "まず一歩を踏み出す力があるからこそ、継続につながる。" },
            { key: "ビジョン構築力", desc: "目指す未来像があることで、続ける意味を見失わない。" }
        ],
        relatedWorks: ["清潔・安全管理", "オペレーション管理", "人材育成", "目標設定・改善"]
      },
      { 
        key: "探究・意味づけ力", 
        max: 4, 
        group: "① 個人（自己認識・自己管理）",
        definition: "「あらゆる出来事を、自分の成長に変える」 物事の表層にとどまらず、本質を深く探求し、「なぜ？」を問い続けることで、得られた経験や情報から自分なりの価値や学びを見出す力。",
        examples: [
          "困難や失敗を単なる障害ではなく、学びや未来への糧に変えている。",
          "情報の洪水の中で、自分の価値観に基づいて判断を下している。",
          "流行や意見に左右されず、自分の羅針盤をもって進んでいる。"
        ],
        related: [
            { key: "ロジカルシンキング", desc: "得た情報を整理し、論理で結論を導き出す基盤となる。" },
            { key: "ビジョン構築力", desc: "本質理解から説得力ある未来像を描く力に直結する。" },
            { key: "内省力", desc: "振り返りを重ねることで探究が深化し、真の学びに変わる。" }
        ],
        relatedWorks: ["主体性の発揮", "商品管理", "原価・利益管理", "市場分析・トレンド把握"]
      },
      { 
        key: "表現力", 
        max: 4, 
        group: "② 対人（社会的認識）",
        definition: "「ただ伝えるのではなく、共鳴を生む表現者」 自分や他者の考え、感情、思いを、言葉・動き・態度などあらゆる手段を使い、相手に届く形に変えて共鳴を生み出す力。",
        examples: [
          "相手に合わせて想いを届け、人の心を動かしている。",
          "言葉や仕草で誠実さを映し出し、信頼を築いている。",
          "共感を呼び、場を動かす表現を生み出している。"
        ],
        related: [
            { key: "他者受容・共感力", desc: "相手の感情や立場を理解し、もっとも響く表現方法を選び取る。" },
            { key: "ロジカルシンキング", desc: "伝える内容を整理し、説得力ある形に整える。" },
            { key: "感性力", desc: "相手の反応や場の空気を敏感に察知し、伝え方やタイミングを調整する。" }
        ],
        relatedWorks: ["顧客体験・応対", "雰囲気・場づくり", "販促・プロモーション設計", "イベント企画・運営"]
      },
      { 
        key: "感性力", 
        max: 4, 
        group: "① 個人（自己認識・自己管理）",
        definition: "「誰も気づかぬ兆しを受け取り、未来を先取りするアンテナ」 まだ言葉や形になっていないサインや違和感を敏感に察知し、調和や新しい価値を生むための出発点となる次の一歩を導き出す力。",
        examples: [
          "違和感を感じ取り、調和へと修正している。",
          "心地よさや楽しさの源を見抜き、それを育んでいる。",
          "空気に漂う見えないサインを受け取り、まだない未来をひらいている。"
        ],
        related: [
            { key: "他者受容・共感力", desc: "言葉にならない想いを感性で受け止め、寄り添うことで深い関係を築く。" },
            { key: "美意識", desc: "微妙な違和感をとらえ、整った心地よい世界へと昇華させる。" },
            { key: "ユーモア・余白力", desc: "場の緊張や張り詰めた空気を感じ取り、軽やかさを差し込む。" }
        ],
        relatedWorks: ["顧客体験・応対", "雰囲気・場づくり", "市場分析・トレンド把握", "商品管理"]
      },
      { 
        key: "感謝力", 
        max: 3, 
        group: "② 対人（社会的認識）",
        definition: "「あたりまえの日常を、幸せで満たす力」 日々の出来事や他者から受けているものに、意識的に「ありがたい」と気づき、受け取る力。",
        examples: [
          "ささいな出来事を喜びに変え、人と分かち合っている。",
          "支えや協力を素直に感謝し、言葉や行動で伝えている。",
          "感謝の循環を生み、チームを前向きにしている。"
        ],
        related: [
            { key: "信頼構築力", desc: "感謝の積み重ねが、信頼をさらに深める。" },
            { key: "対話力", desc: "感謝を伝えることが、豊かな関係を育む。" },
            { key: "公共性", desc: "自分だけでなく「みんな」に感謝が向かうことで広がる。" }
        ],
        relatedWorks: ["顧客体験・応対", "人材育成", "スタッフケア・対話"]
      },
      { 
        key: "ユーモア・余白力", 
        max: 2, 
        group: "② 対人（社会的認識）",
        definition: "「張り詰めた空気に、やわらかな風を吹かせる力」 笑いやゆとりをもたらし、場を軽やかにする力。",
        examples: [
          "緊張をやわらげ、人が安心して話せる場をつくっている。",
          "あえて余白を残すことで、新しい発想を生んでいる。",
          "場を明るくし、人を前向きにしている。"
        ],
        related: [
            { key: "感性力", desc: "空気を察することで、適切にユーモアを差し込める。" },
            { key: "対話力", desc: "ユーモアが対話をより深める。" },
            { key: "企画力", desc: "余白を取り入れることで、柔らかな企画を生み出す。" }
        ],
        relatedWorks: ["顧客体験・応対", "雰囲気・場づくり"]
      },
      { 
        key: "美意識", 
        max: 3, 
        group: "① 個人（自己認識・自己管理）",
        definition: "「日常を磨き、世界を心地よくするデザイナー」 整っている、心地よい、美しいと感じる感覚を持ち、それを日常や仕事に活かす力。",
        examples: [
          "細部にまで美しさを意識し、周囲に心地よさを与えている。",
          "雑多な状況を整え、調和を生み出している。",
          "美意識を仕事に活かし、洗練された成果を生み出している。"
        ],
        related: [
            { key: "感性力", desc: "見えない違和感に気づける感覚が、美意識を磨く。" },
            { key: "表現力", desc: "美を形にし、相手に届けることで共感を得る。" },
            { key: "企画力", desc: "美意識が、体験や仕掛けの質を高める。" }
        ],
        relatedWorks: ["清潔・安全管理", "商品管理", "デジタルツール活用"]
      },
      { 
        key: "セルフマネジメント力", 
        max: 3, 
        group: "① 個人（自己認識・自己管理）",
        definition: "「感情の波に沈まない、安定して結果を生み出す力」 感情や体調の変化を自ら整え、常に安定した状態で目的に向かい続ける力。",
        examples: [
          "プレッシャーの中でも冷静に最善の判断を下している。",
          "日々の生活リズムを整え、心身ともに穏やかで安定している。",
          "人生の長い道のりを、自分のペースで歩み続け、確かな成果を築いている。"
        ],
        related: [
            { key: "継続力", desc: "自己管理があるからこそ努力を続けられる。" },
            { key: "内省力", desc: "自分を客観視することで改善が積み重なる。" },
            { key: "自己信頼", desc: "安定した結果の積み重ねが、自分への確信を深める。" }
        ],
        relatedWorks: ["オペレーション管理", "チーム協働", "雰囲気・場づくり"]
      },
      { 
        key: "内省力", 
        max: 3, 
        group: "① 個人（自己認識・自己管理）",
        definition: "「過去は未来がつくる」 自分の行動や選択をそのままにせず、理由や背景をふり返り、未来への行動へつなげる力。",
        examples: [
          "成功も失敗も検証し、未来の成長につなげている。",
          "自分の行動のパターンに気づき、改善の機会に変えている。",
          "過去を後悔ではなく、未来を強くする材料として扱っている。"
        ],
        related: [
            { key: "探究・意味づけ力", desc: "内省が「なぜ？」を問う探究を深めるきっかけになる。" },
            { key: "セルフマネジメント", desc: "省みることで自らの状態を整える習慣につながる。" },
            { key: "継続力", desc: "振り返りを重ねて軌道修正することで、行動が継続されやすくなる。" }
        ],
        relatedWorks: ["主体性の発揮", "原価・利益管理", "目標設定・改善"]
      },
      { 
        key: "自己信頼", 
        max: 3, 
        group: "① 個人（自己認識・自己管理）",
        definition: "「どんな時も、自分らしく、自分を信じて進める力」 自分の感情・判断・価値を信じて、選び、進んでいける力。",
        examples: [
          "他人の評価に左右されず、自分の判断を信じて動いている。",
          "不安や迷いを抱えながらも、自らの選択を肯定して進んでいる。",
          "自信が周囲に伝わり、人を安心させ導いている。"
        ],
        related: [
            { key: "行動力", desc: "自己信頼があるからこそ、迷いなく動き出せる。" },
            { key: "ビジョン構築力", desc: "自分を信じることで、未来像に確信をもって進める。" },
            { key: "継続力", desc: "自らを信じる姿勢が、粘り強い取り組みを支える。" }
        ],
        relatedWorks: ["主体性の発揮", "商品管理", "イベント企画・運営"]
      },
      { 
        key: "ビジョン構築力", 
        max: 3, 
        group: "③ チーム（関係管理）",
        definition: "「未来を描き、その道を切り拓く人になる」 「こうなりたい」「こうありたい」という未来の姿を描き、そこに向かって道を見出していける力。",
        examples: [
          "先を見据えて行動し、人を導いている。",
          "抽象的な理想を具体的な計画に変えている。",
          "周囲を巻き込み、未来を共有している。"
        ],
        related: [
            { key: "探究力", desc: "本質を探ることで、確かなビジョンが描ける。" },
            { key: "行動力", desc: "描いたビジョンを行動に移して実現する。" },
            { key: "信頼構築力", desc: "ビジョンを示す誠実さが、信頼を生む。" }
        ],
        relatedWorks: ["原価・利益管理", "目標設定・改善", "取引先対応・交渉"]
      },
      { 
        key: "企画力", 
        max: 3, 
        group: "③ チーム（関係管理）",
        definition: "「人々の心を躍らせる、新しい体験の創造」 相手や場のニーズを読み取り、体験や仕掛けを形にする力。",
        examples: [
          "相手が求める体験を先回りして形にしている。",
          "日常を特別な体験に変え、喜びを生み出している。",
          "新しい企画で、人と人をつなげている。"
        ],
        related: [
            { key: "感性力", desc: "空気を感じ取る力が、企画を生み出す原点になる。" },
            { key: "柔軟性", desc: "変化を取り込みながら企画を進化させる。" },
            { key: "表現力", desc: "企画を人に伝え、共感を生む。" }
        ],
        relatedWorks: ["販促・プロモーション設計", "イベント企画・運営", "商品管理"]
      },
      { 
        key: "ロジカルシンキング", 
        max: 4, 
        group: "① 個人（自己認識・自己管理）",
        definition: "「シンプルに道を切り拓く力」 感情や直感に流されすぎず、物事を整理し、筋道を立てて考えられる力。",
        examples: [
          "複雑な課題を整理し、誰もが理解できる形に変えている。",
          "感情に左右されず、冷静に結論を導き出している。",
          "論理的な判断が、信頼される意思決定につながっている。"
        ],
        related: [
            { key: "探究・意味づけ力", desc: "深い問いから得た情報を、論理で整理して活かす。" },
            { key: "ビジョン構築力", desc: "筋道立てた思考が、未来像を現実に近づける。" },
            { key: "行動力", desc: "論理が裏打ちすることで、迷わず行動に移せる。" }
        ],
        relatedWorks: ["オペレーション管理", "原価・利益管理", "人材評価", "デジタルツール活用"]
      },
      { 
        key: "他者受容・共感力", 
        max: 3, 
        group: "② 対人（社会的認識）",
        definition: "「人と人をつなぎ、心の通う世界を創る」 相手の立場や背景、感情を深く想像・理解し、自分や他者の違いを否定せずに受けとめ、励まし支えることで、共に成長や喜びを分かち合える力。",
        examples: [
          "自分と異なる意見や価値観を否定せずに受けとめている。",
          "相手の立場を想像し、励ましながら共に歩む関係を築いている。",
          "違いを尊重する姿勢が、安心と信頼を広げ、挑戦を後押ししている。"
        ],
        related: [
            { key: "対話力", desc: "相手の本音を受け止める姿勢が、対話を深める。" },
            { key: "公共性", desc: "多様性を受容する姿勢が、社会全体の調和を支える。" },
            { key: "信頼関係構築力", desc: "相手をそのまま受け入れ、応援するからこそ信頼が強まる。" }
        ],
        relatedWorks: ["情報共有", "チーム協働", "スタッフケア・対話"]
      }
    ];

    const WORKS = [
      { 
        key: "主体性の発揮", 
        group: "基礎業務",
        definition: "仕事を自分ごとと捉え、自ら考え行動することで、自分の未来を切り拓く力。",
        levels: {
          SEED: {
            title: "SEED（着手したばかり）",
            behaviors: [
              "指示された内容を理解し、言われたことを正しく実行している。",
              "トラブルが起きても他人のせいにせず、自分にできることを探している。",
              "目の前の仕事に意味を見つけようとしながら取り組んでいる。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている）",
            behaviors: [
              "目的を理解したうえで、自分なりの工夫を加えてより良い結果を目指している。",
              "現状への不満を嘆くより、どうすれば良くなるかを考えて行動している。",
              "小さな提案や改善を通じて、周囲の仕事をスムーズにしている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与えている）",
            behaviors: [
              "チーム全体の課題を見つけ、解決のために自ら動いている。",
              "成果を通して自信を深め、前向きな空気をチームに広げている。",
              "チャンスを自ら掴みにいき、挑戦を通じて仲間にも刺激を与えている。"
            ]
          }
        }
      },
      { 
        key: "衛生・安全管理", 
        group: "基礎業務",
        definition: "清掃・整備・衛生・安全を徹底し、誰もが安心できる空間を継続的につくる力。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "衛生ルールを守り、指示された清掃・整備を正しく実施している。",
              "決められた点検項目を漏れなく確認できている。",
              "危険な行為を避け、安全を意識して業務に取り組んでいる。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "担当以外の箇所にも気を配り、乱れを整えている。",
              "清潔さを保つための工夫（整理整頓・道具の定位置化など）を実行している。",
              "チーム全体に衛生意識を広げ、基準を安定して維持できている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "店舗全体の衛生・安全基準を管理し、リスクにも対応している。",
              "消防・衛生など必要な資格を取得し、責任を持って知識を活かしている。",
              "安心と信頼を支える基盤をつくり、仲間やお客様に良い影響を与えている。"
            ]
          }
        }
      },
      { 
        key: "情報共有", 
        group: "基礎業務",
        definition: "業務の情報を正確・迅速に共有し、チーム全体で同じ方向に進む力。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "自分の業務内容を報告・連絡・相談できている。",
              "必要な情報を漏れなく伝えられている。",
              "相手に聞き返されずに伝わるレベルを意識できている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "状況に応じて情報を整理し、相手に分かりやすく伝えられている。",
              "共有された情報を基に、チーム全体がスムーズに動けている。",
              "情報を隠さずオープンにし、信頼関係を築けている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "情報共有の仕組みを改善し、全体の連携を強化している。",
              "チームに前向きな空気を生み出し、心理的安全性を高めている。",
              "情報を軸にチーム全体の成果を底上げし、仲間から信頼を得ている。"
            ]
          }
        }
      },
      { 
        key: "オペレーション", 
        group: "日常オペレーション",
        definition: "営業準備から接客・会計・日報まで、店舗運営に必要な流れを正確かつ円滑に進める力。安定したオペレーションが、特別な体験を支える土台となる。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "日々の営業の流れを理解し、指示に従って業務に携わっている。",
              "開店・閉店作業、予約対応、会計などの基本を正しく実行できている。",
              "必要な準備や片付けを滞りなく行えている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "どのような営業状況であっても、安定したパフォーマンスで業務を遂行できている。",
              "状況に応じて段取りを調整し、スムーズな流れをつくれている。",
              "業務フローを理解し、チームと連携しながら安定した営業を実現している。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "店舗全体のオペレーションを把握し、効率と質を両立させている。",
              "問題点を見つけ、仕組みやルールに落とし込み改善している。",
              "チーム全体をリードし、安定したオペレーション文化を店舗に根付かせている。"
            ]
          }
        }
      },
      { 
        key: "原価・利益管理", 
        group: "日常オペレーション",
        definition: "売上・原価・人件費のバランスを理解し、日々のオペレーションから利益を設計する力。店舗の持続的な成長を支える基盤となる。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "発注ルールを理解し、指示に従って正しく発注・在庫管理ができている。",
              "廃棄やロスを減らす意識を持ち、基本的な数字を確認できている。",
              "基本的な数値（売上・人件費・仕入れコスト）と利益の関係を理解している。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "原価率や人件費率を理解し、日々のオペレーションに反映できている。",
              "発注・在庫を自ら調整し、適正在庫を維持できている。",
              "繁閑に応じて人員配置や仕入れ量を調整し、無駄を抑えられている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "店舗全体の売上・コストバランスを把握し、利益設計をリードしている。",
              "数字をもとに改善提案を行い、チーム全体の利益意識を高めている。",
              "PL（損益計算書）の数値を読み取り、戦略的に店舗運営に活かしている。"
            ]
          }
        }
      },
      { 
        key: "顧客体験", 
        group: "日常オペレーション",
        definition: "今この瞬間のお客様に全力で向き合い、心地よさと楽しさを創り出す力。楽しい空間に人は集まることを理解し、記憶に残るひとときを提供できている。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "接客マナーや基本的な応対ができている。",
              "お客様に対して明るく丁寧に対応している。",
              "指示を受けた接客フローを滞りなくこなせている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "お客様の表情や雰囲気を読み取り、適切に対応している。",
              "会話やサービスを通じて「このお店に来てよかった」と思っていただけている。",
              "クレームや不安にも落ち着いて対応し、安心感を与えられている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "お客様にとって特別な体験を意図的に演出し、感動を提供している。",
              "チームメンバーの接客に刺激を与え、店舗全体の接客レベルを引き上げている。",
              "SNSや口コミで「ここにしかない体験」として評価されるサービスを創り出している。"
            ]
          }
        }
      },
      { 
        key: "商品管理", 
        group: "日常オペレーション",
        definition: "料理やドリンクを単なる提供物ではなく、一皿に心を込めて扱い、お客様に安心と喜びを届ける力。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "レシピや提供手順を理解し、正しく実行できている。",
              "商品の特徴や品質基準を把握している。",
              "基本を守り、安定した品質で提供できている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "商品知識を活かして、自信を持って説明や提案ができている。",
              "忙しい状況でも商品を丁寧に扱い、安定して提供できている。",
              "品質や仕上がりを意識し、ブレなく提供できている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "季節や状況に合わせて工夫を加え、期待を超える一皿を生み出している。",
              "商品を通じて「また食べたい」と思わせる体験を提供できている。",
              "仲間に「商品を大切に扱う姿勢」を広げ、文化として根付かせている。"
            ]
          }
        }
      },
      { 
        key: "チーム協働", 
        group: "チーム・人材",
        definition: "仲間と力を合わせ、互いを活かし合いながら成果をつくる力。個人の頑張りをチームの成果に結びつけることで、より大きな価値を生み出している。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "仲間に対して明るく挨拶し、協力的な態度を取れている。",
              "自分の役割を理解し、与えられた仕事を責任を持って果たしている。",
              "困っている仲間を見て声をかけることができている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "仲間と情報や状況を共有し、チーム全体で円滑に動けている。",
              "自分の意見を伝えるだけでなく、仲間の意見にも耳を傾けている。",
              "チーム全体の目標達成を意識して、行動を選択できている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "仲間の強みを活かす仕組みをつくり、チームの成果を最大化している。",
              "チームが前向きに挑戦できる雰囲気をつくり、心理的安全性を高めている。",
              "店舗全体の一体感をつくり、成果を共有する文化を根付かせている。"
            ]
          }
        }
      },
      { 
        key: "人材育成", 
        group: "チーム・人材",
        definition: "仲間の成長を支援し、知識や技術を伝えることで、自分とチームの可能性を広げていく力。教えることで自らも学び直し、共に成長する。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "新人や後輩に基本的な業務を丁寧に教えられている。",
              "仲間から質問を受けたときに、自分の知識や経験を共有できている。",
              "教える相手の状況を見て、声かけや補助ができている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "相手の理解度に合わせて指導方法を工夫できている。",
              "業務手順だけでなく、考え方や背景も伝えられている。",
              "育成の成果として、仲間が自立して業務を進められるようになっている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "チーム全体の育成計画を考え、体系的に伝えることができている。",
              "後輩や仲間の成長を評価し、モチベーションを高めている。",
              "育成を通じて店舗全体のレベルを引き上げ、文化として根付かせている。"
            ]
          }
        }
      },
      { 
        key: "人材評価", 
        group: "チーム・人材",
        definition: "仲間の力を正しく見極め、公平に評価し、適材適所で活かす力。人材の採用から配置、評価までを通してチームの成長を後押しする。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "評価の基準を理解し、与えられた枠組みでフィードバックできている。",
              "採用面接や新人受け入れに参加し、基本的な役割を果たせている。",
              "仲間の得意・不得意を意識して声かけできている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "公平な視点で仲間の行動や成果を評価できている。",
              "採用や配置の場で、チームに必要な人材像を意識できている。",
              "評価や配置を通じて、仲間の成長や挑戦を後押しできている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "チーム全体の力を見極め、役割分担や配置を戦略的に行えている。",
              "評価や採用のプロセスを改善し、店舗や組織全体に還元している。",
              "公平で信頼される評価を通じて、仲間のエンゲージメントを高めている。"
            ]
          }
        }
      },
      { 
        key: "スタッフケア・対話", 
        group: "チーム・人材",
        definition: "仲間の声に耳を傾け、心身のケアを行いながら信頼関係を築く力。共に働く仲間の安心感を支え、チーム力を高める。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "仲間に挨拶や声かけを行い、関係性を築いている。",
              "体調不良や困っている仲間に気づき、サポートできている。",
              "日常会話を通じて、仲間との信頼関係を少しずつ育めている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "仲間の感情や状況を察知し、適切に声をかけられている。",
              "定期的に対話を行い、安心して働ける環境をつくっている。",
              "仲間同士の関係性を調整し、チームが協力しやすい雰囲気を生んでいる。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "チーム全体の心理的安全性を高め、挑戦を後押ししている。",
              "定期面談やケアの仕組みを導入し、店舗運営に活かしている。",
              "仲間の安心感を基盤に、チーム全体のパフォーマンスを向上させている。"
            ]
          }
        }
      },
      { 
        key: "目標設定・改善", 
        group: "チーム・人材",
        definition: "現状を振り返り、目標を立て、改善に挑戦する力。小さなサイクルを積み重ね、確かな成果につなげていく。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "与えられた目標を理解し、自分の行動に落とし込めている。",
              "日々の業務で小さな振り返りを行っている。",
              "課題やミスを他責にせず、自分にできる改善を考えている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "自ら目標を立て、達成に向けて計画を実行できている。",
              "振り返りを通じて改善点を見つけ、次の行動に活かしている。",
              "チームの目標達成にも貢献できている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "チームや店舗の目標を設定し、全員を巻き込んで取り組んでいる。",
              "改善の仕組みを導入し、成果を継続的に高めている。",
              "成果や失敗の経験を共有し、学びをチーム全体の成長に変えている。"
            ]
          }
        }
      },
      { 
        key: "雰囲気・場づくり", 
        group: "価値",
        definition: "お客様と仲間が安心し、楽しく過ごせる空気をつくる力。心理的安全性と活気を両立させ、居心地の良さを生み出す。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "明るい挨拶や笑顔で、前向きな空気をつくっている。",
              "自分の感情に左右されず、安定した対応ができている。",
              "チームやお客様にとって安心感を与える関わりができている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "相手や状況を観察し、雰囲気を整える行動ができている。",
              "BGM・照明・声のトーンを意識し、空間全体の雰囲気を調整できている。",
              "軽やかな声かけや気配りで、居心地の良い場を生み出している。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "店舗全体の雰囲気をリードし、顧客やチームに一体感を生んでいる。",
              "意図的に場を演出し、特別な体験を提供している。",
              "ポジティブな雰囲気を文化として根付かせ、挑戦を後押ししている。"
            ]
          }
        }
      },
      { 
        key: "販促・プロモーション設計", 
        group: "価値",
        definition: "店舗の魅力を発信し、来店動機をつくる力。お客様との接点を広げ、継続的に選ばれる理由をデザインする。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "店舗のキャンペーンやイベント内容を理解し、正しくお客様に伝えられている。",
              "SNSやポスターなどの販促物を活用し、案内ができている。",
              "自分が発信する情報に責任を持ち、誤解を与えないように配慮している。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "お客様の特性やニーズに応じた販促方法を考え、実行できている。",
              "SNS投稿や店頭POPなど、自ら工夫して店舗の魅力を発信できている。",
              "販促の効果を振り返り、改善に活かしている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "店舗全体の販促企画を立案し、チームを巻き込んで実行している。",
              "顧客データやフィードバックを活用し、効果的なプロモーションを設計している。",
              "成果を分析して改善点を共有し、組織全体のマーケティング力向上に貢献している。"
            ]
          }
        }
      },
      { 
        key: "イベント企画・運営", 
        group: "価値",
        definition: "お客様に特別な体験を提供し、店舗の魅力を高める力。チームや地域を巻き込み、記憶に残るひとときを創り出す。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "店舗で行われるイベントの目的や内容を理解し、与えられた役割を果たせている。",
              "イベント準備（設営・案内・配布物など）に正確に取り組んでいる。",
              "当日の運営で指示を守り、スムーズな進行に貢献している。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "小規模なイベントを自ら企画し、実行できている。",
              "お客様の反応を観察し、楽しさや満足度を高める工夫ができている。",
              "チームと協力して役割分担を行い、イベントを成功に導いている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "店舗全体のイベントを企画・運営し、集客や売上の向上につなげている。",
              "地域や取引先を巻き込み、店舗のブランド価値を高めている。",
              "イベントを通じてお客様の記憶に残る体験を提供し、リピーターやファンを増やしている。"
            ]
          }
        }
      },
      { 
        key: "取引先対応・交渉", 
        group: "価値",
        definition: "仕入先や協力企業と良好な関係を築き、双方にメリットのある交渉を行う力。信頼を基盤に、より良い商品・サービスをお客様に届ける。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "基本的な取引ルール（発注方法・納品確認・支払条件など）を理解し、正しく対応している。",
              "取引先とのやりとりにおいて、礼儀正しく誠実な態度を保っている。",
              "納品物のチェックや報告を正確に行い、ミスを防いでいる。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "取引先に対して、店舗の要望を明確に伝えられている。",
              "仕入条件や納品スケジュールを調整し、店舗運営に最適化できている。",
              "信頼関係を築き、継続的に協力してもらえる関係性を保っている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "店舗や会社全体の利益を意識し、戦略的に交渉を行っている。",
              "新しい取引先を開拓し、店舗に新しい価値をもたらしている。",
              "取引先と協働でイベントや販促を実施し、店舗のブランド力を高めている。"
            ]
          }
        }
      },
      { 
        key: "市場分析・トレンド把握", 
        group: "価値",
        definition: "外部環境や顧客ニーズを読み取り、未来の変化に備える力。市場や業界の動きを捉え、店舗の価値創造に活かす。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "自店舗や近隣競合の状況を観察し、基本的な違いや特徴を把握している。",
              "お客様からの声を聞き取り、記録や共有ができている。",
              "社内で共有される業界情報を理解し、自分の行動に取り入れている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "トレンドや競合状況を定期的に調べ、店舗運営に反映している。",
              "顧客層や時間帯別の動きを分析し、販促やオペレーション改善に活かしている。",
              "情報をチームと共有し、全員で方向性を考えられるようにしている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "市場や顧客動向をもとに、新しい商品やサービスを提案している。",
              "分析結果を戦略に落とし込み、店舗の成長につなげている。",
              "トレンド情報や時代の流れを踏まえ、店舗のブランド価値を高めている。"
            ]
          }
        }
      },
      { 
        key: "コンプライアンス遵守", 
        group: "価値",
        definition: "法律・規則・社内ルールを理解し、正しく実践する力。労務管理や安全対策を徹底し、安心して働ける環境を守る。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "勤怠ルールや基本的な労務規定を理解し、遵守している。",
              "衛生・安全に関する指示を守り、日々の業務に取り組んでいる。",
              "就業規則や法律に反する行為をしない意識を持っている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "労務や衛生に関する問題を察知し、上司に報告・相談できている。",
              "法令や規則の背景を理解し、チームメンバーにも注意喚起できている。",
              "自ら率先して模範的な行動をとり、安心感を与えている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "シフト・労務管理を適切に運用し、トラブルを未然に防いでいる。",
              "コンプライアンスをチーム全体に浸透させ、遵守文化を根付かせている。",
              "店舗・会社・スタッフ、そして自分を守るために、幅広い知識と経験を備え、高いモラルと倫理観をもって社会的責任を果たしている。"
            ]
          }
        }
      },
      { 
        key: "デジタルツール活用", 
        group: "価値",
        definition: "DXやITツールを使いこなし、業務効率と情報精度を高める力。データを活用して判断力を磨き、チームの生産性を向上させる。",
        levels: {
          SEED: {
            title: "SEED（最初に目指す段階）",
            behaviors: [
              "店舗で導入されている基本的なツール（勤怠・発注・予約管理など）を正しく利用できている。",
              "情報を正確に入力し、ミスなく処理できている。",
              "デジタルツールの目的を理解し、日常業務に取り入れている。"
            ]
          },
          SPROUT: {
            title: "SPROUT（一般的にできている状態）",
            behaviors: [
              "ツールを使って業務を効率化し、作業時間を短縮できている。",
              "数値データを活用し、在庫・売上・人件費の改善に役立てている。",
              "チームに使い方を共有し、全員で精度を高められている。"
            ]
          },
          HARVEST: {
            title: "HARVEST（周囲に良い影響を与え、責任を担う状態）",
            behaviors: [
              "ツールの活用法を提案・改善し、店舗全体の生産性を向上させている。",
              "データ分析をもとに戦略的な判断を行い、店舗経営に貢献している。"
            ]
          }
        }
      }
    ];

    const HUMAN_TO_WORK = {
      "信頼構築力": ["情報共有", "チーム協働", "取引先対応・交渉", "コンプライアンス遵守"],
      "対話力": ["情報共有", "人材育成", "スタッフケア・対話", "取引先対応・交渉"],
      "公共性": ["人材評価", "コンプライアンス遵守", "販促・プロモーション設計", "チーム協働"],
      "倫理観": ["清潔・安全管理", "人材評価", "コンプライアンス遵守"],
      "柔軟性": ["市場分析・トレンド把握", "イベント企画・運営", "顧客体験・応対", "デジタルツール活用"],
      "行動力": ["主体性の発揮", "イベント企画・運営", "リスク・変化対応"],
      "継続力": ["清潔・安全管理", "オペレーション管理", "人材育成", "目標設定・改善"],
      "探究・意味づけ力": ["主体性の発揮", "商品管理", "原価・利益管理", "市場分析・トレンド把握"],
      "表現力": ["顧客体験・応対", "雰囲気・場づくり", "販促・プロモーション設計", "イベント企画・運営"],
      "感性力": ["顧客体験・応対", "雰囲気・場づくり", "市場分析・トレンド把握", "商品管理"],
      "感謝力": ["顧客体験・応対", "人材育成", "スタッフケア・対話"],
      "ユーモア・余白力": ["顧客体験・応対", "雰囲気・場づくり"],
      "美意識": ["清潔・安全管理", "商品管理", "デジタルツール活用"],
      "セルフマネジメント力": ["オペレーション管理", "チーム協働", "雰囲気・場づくり"],
      "内省力": ["主体性の発揮", "原価・利益管理", "目標設定・改善"],
      "自己信頼": ["主体性の発揮", "商品管理", "イベント企画・運営"],
      "ビジョン構築力": ["原価・利益管理", "目標設定・改善", "取引先対応・交渉"],
      "企画力": ["販促・プロモーション設計", "イベント企画・運営", "商品管理"],
      "ロジカルシンキング": ["オペレーション管理", "原価・利益管理", "人材評価", "デジタルツール活用"],
      "他者受容・共感力": ["情報共有", "チーム協働", "スタッフケア・対話"]
    };
    
    // 業務から人間力への逆引きマップを生成
    const WORK_TO_HUMAN = {};
    Object.entries(HUMAN_TO_WORK).forEach(([humanKey, works]) => {
      works.forEach(workKey => {
        if (!WORK_TO_HUMAN[workKey]) {
          WORK_TO_HUMAN[workKey] = [];
        }
        WORK_TO_HUMAN[workKey].push(humanKey);
      });
    });

    const STAR_RANGES = [
      { min: 0, max: 10, range: "250,000円〜270,000円", stage: "入社直後（新人）" },
      { min: 10, max: 25, range: "270,000円〜330,000円", stage: "コアスタッフ" },
      { min: 25, max: 35, range: "330,000円〜400,000円", stage: "副店長 / 副料理長 〜 店長 / シェフクラス / エキスパート" },
      { min: 35, max: 45, range: "400,000円〜550,000円", stage: "SV / 統括 / スペシャリスト" },
      { min: 45, max: 999, range: "550,000円超（個別設定）", stage: "ノーレーティング" }
    ];

    // 役職給レンジ定義
    const ROLE_PAY_RANGES = {
      "none": { label: "なし", min: 0, max: 0 },
      "leader": { label: "セクションリーダー", min: 5000, max: 10000 },
      "sub_manager": { label: "副店長・副料理長", min: 15000, max: 25000 },
      "manager": { label: "店長・シェフ", min: 30000, max: 50000 },
      "sv": { label: "SV・統括", min: 70000, max: 90000 }
    };

    // 状態管理
    let state = {
      activeTab: 'dashboard',
      workLevels: {},
      starsByHuman: {},
      skills: [],
      myUniqueChallenge: 0,
      workDetailOpen: false,
      workDetailKey: null,
      humanDetailOpen: false,
      humanDetailKey: null,
      challengeDialogChecked: false,
      challengeText: '',
      userName: '田中 太郎',
      userStore: 'Aカフェ',
      userPosition: '店長',
      workInProgress: {},
      selectedRolePayType: 'manager', // 役職タイプ
      selectedRolePayAmount: 30000 // 役職給金額
    };

    // ローカルストレージから読み込み
    function loadState() {
      try {
        const saved = localStorage.getItem('hrEvalState');
        if (saved) {
          const parsed = JSON.parse(saved);
          state = { ...state, ...parsed };
        }
      } catch (e) {
        console.error('Failed to load state:', e);
      }
    }

    // ローカルストレージに保存
    function saveState() {
      try {
        localStorage.setItem('hrEvalState', JSON.stringify(state));
      } catch (e) {
        console.error('Failed to save state:', e);
      }
    }

    // 星の計算
    function calculateStars() {
      const stars = {};
      HUMAN_POWERS.forEach(h => stars[h.key] = 0);
      
      // 業務レベルから人間力の星を計算
      Object.entries(state.workLevels).forEach(([workKey, level]) => {
        if (level && level !== 'SEED') {
          const starValue = level === 'SPROUT' ? 0.5 : level === 'HARVEST' ? 1 : 0;
          const relatedHumans = WORK_TO_HUMAN[workKey] || [];
          
          relatedHumans.forEach(humanKey => {
            const humanPower = HUMAN_POWERS.find(hp => hp.key === humanKey);
            if (humanPower) {
              stars[humanKey] = Math.min((stars[humanKey] || 0) + starValue, humanPower.max);
            }
          });
        }
      });
      
      state.starsByHuman = stars;
    }

    // 合計星数
    function getTotalStars() {
      return Object.values(state.starsByHuman).reduce((sum, val) => sum + val, 0);
    }

    // 基本給レンジ
    function getBaseRange() {
      const total = getTotalStars();
      const range = STAR_RANGES.find(r => total >= r.min && total < r.max) || STAR_RANGES[STAR_RANGES.length - 1];
      return range;
    }

    // スキル給合計
    function getSkillTotal() {
      return state.skills.reduce((sum, s) => sum + s.amount, 0);
    }

    // 数値フォーマット
    function formatNumber(num) {
      return num.toLocaleString('ja-JP');
    }

    // SVGアイコン
    const icons = {
      star: '<svg class="w-4 h-4 fill-yellow-400 text-yellow-400" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>',
      plus: '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>',
      arrowUpRight: '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 17L17 7m0 0H7m10 0v10"/></svg>'
    };

    // レベルバッジ
    function getLevelBadge(level) {
      const badges = {
        SEED: '<span class="px-2 py-1 text-xs rounded-full bg-gray-200 text-gray-700">SEED（★0）</span>',
        SPROUT: '<span class="px-2 py-1 text-xs rounded-full bg-yellow-200 text-yellow-800">🌱 SPROUT（★0.5）</span>',
        HARVEST: '<span class="px-2 py-1 text-xs rounded-full bg-green-200 text-green-800">🌾 HARVEST（★1）</span>'
      };
      return badges[level] || badges.SEED;
    }

    // タブ切り替え
    function switchTab(tab) {
      state.activeTab = tab;
      render();
      
      // ダッシュボードに戻った時にレーダーチャートを再描画
      if (tab === 'dashboard') {
        setTimeout(() => {
          drawRadarChart();
        }, 100);
      }
    }

    // 業務レベル変更
    function changeWorkLevel(workKey, level) {
      state.workLevels[workKey] = level;
      calculateStars();
      saveState();
      render();
      
      // ダッシュボードの場合はレーダーチャートを再描画
      if (state.activeTab === 'dashboard') {
        setTimeout(() => {
          drawRadarChart();
        }, 100);
      }
    }

    // 取り組み状況の切り替え
    function toggleWorkInProgress(workKey) {
      if (state.workInProgress[workKey]) {
        delete state.workInProgress[workKey];
      } else {
        state.workInProgress[workKey] = true;
      }
      saveState();
      render();
    }

    // スキル追加
    function addSkill() {
      if (state.skills.length >= 2) {
        return;
      }
      
      const nameInput = document.getElementById('skillName');
      const amtInput = document.getElementById('skillAmt');
      const tierSelect = document.getElementById('skillTier');
      
      const name = nameInput.value.trim();
      const amt = Number(amtInput.value);
      const tier = tierSelect.value;
      
      if (!name || amt <= 0) {
        return;
      }
      
      if (amt < 5000) {
        return;
      }
      
      if (amt > 100000) {
        return;
      }
      
      state.skills.push({
        id: Date.now(),
        name,
        tier,
        amount: amt
      });
      
      nameInput.value = '';
      amtInput.value = '';
      saveState();
      render();
    }

    // スキル削除
    function removeSkill(id) {
      state.skills = state.skills.filter(s => s.id !== id);
      saveState();
      render();
    }

    // チャレンジ対話完了チェック
    function toggleChallengeDialog() {
      state.challengeDialogChecked = !state.challengeDialogChecked;
      state.myUniqueChallenge = state.challengeDialogChecked ? 5000 : 0;
      saveState();
      render();
    }

    // チャレンジテキスト更新
    function updateChallengeText() {
      const input1 = document.getElementById('challengeTextInput');
      const input2 = document.getElementById('challengeTextInput2');
      
      if (input1) {
        state.challengeText = input1.value;
      } else if (input2) {
        state.challengeText = input2.value;
      }
      
      saveState();
    }

    // 業務詳細モーダルを開く
    function openWorkDetail(workKey) {
      state.workDetailOpen = true;
      state.workDetailKey = workKey;
      render();
    }

    // 業務詳細モーダルを閉じる
    function closeWorkDetail() {
      state.workDetailOpen = false;
      state.workDetailKey = null;
      render();
    }

    // 人間力詳細モーダルを開く
    function openHumanDetail(humanKey) {
      state.humanDetailOpen = true;
      state.humanDetailKey = humanKey;
      render();
    }

    // 人間力詳細モーダルを閉じる
    function closeHumanDetail() {
      state.humanDetailOpen = false;
      state.humanDetailKey = null;
      render();
    }

    // 業務にジャンプ
    function jumpToWork(workKey) {
      closeHumanDetail();
      state.activeTab = 'works';
      render();
      setTimeout(() => {
        const element = document.getElementById(`work-card-${workKey.replace(/[^a-zA-Z0-9]/g, '_')}`);
        if (element) {
          element.scrollIntoView({ behavior: 'smooth', block: 'center' });
          element.classList.add('ring-4', 'ring-blue-500');
          setTimeout(() => {
            element.classList.remove('ring-4', 'ring-blue-500');
          }, 2000);
        }
      }, 100);
    }

    // 人間力にジャンプ
    function jumpToHuman(humanKey) {
      closeWorkDetail();
      state.activeTab = 'humanpower';
      render();
      setTimeout(() => {
        const element = document.getElementById(`human-card-${humanKey.replace(/[^a-zA-Z0-9]/g, '_')}`);
        if (element) {
          element.scrollIntoView({ behavior: 'smooth', block: 'center' });
          element.classList.add('ring-4', 'ring-4', 'ring-purple-500');
          setTimeout(() => {
            element.classList.remove('ring-4', 'ring-purple-500');
          }, 2000);
        }
      }, 100);
    }

    // ユーザー情報更新
    function updateUserInfo() {
      const nameInput = document.getElementById('userName');
      const storeInput = document.getElementById('userStore');
      const positionInput = document.getElementById('userPosition');
      
      if (nameInput) state.userName = nameInput.value;
      if (storeInput) state.userStore = storeInput.value;
      if (positionInput) state.userPosition = positionInput.value;
      
      saveState();
      render();
    }

    // 役職タイプ変更時、デフォルト金額を中間値に設定
    function updateRolePayType(roleType) {
      state.selectedRolePayType = roleType;
      if (roleType !== 'none') {
        const range = ROLE_PAY_RANGES[roleType];
        // デフォルトは最小値
        state.selectedRolePayAmount = range.min;
      } else {
        state.selectedRolePayAmount = 0;
      }
      saveState();
      render();
    }

    // 金額入力フィールド変更時の検証と保存
    function updateRolePayAmount(value) {
      const amount = parseInt(value) || 0;
      const range = ROLE_PAY_RANGES[state.selectedRolePayType];
      
      if (!range) return;
      
      // レンジチェック
      if (amount < range.min || amount > range.max) {
        alert(`金額は ${formatNumber(range.min)}円 〜 ${formatNumber(range.max)}円 の範囲で入力してください。`);
        // 入力値をリセット
        const input = document.getElementById('rolePayInput');
        if (input) {
          input.value = state.selectedRolePayAmount || range.min;
        }
        return false;
      }
      
      state.selectedRolePayAmount = amount;
      saveState();
      render();
      return true;
    }

    // 取り組み中の業務を取得
    function getInProgressWorks() {
      return Object.keys(state.workInProgress).filter(key => state.workInProgress[key]);
    }

    // 業務詳細モーダルをレンダリング
    function renderWorkDetailModal() {
      if (!state.workDetailOpen || !state.workDetailKey) return '';
      
      const work = WORKS.find(w => w.key === state.workDetailKey);
      if (!work) return '';
      
      const relatedHumans = WORK_TO_HUMAN[work.key] || [];
      const level = state.workLevels[work.key] || 'SEED';
      
      return `
        <div class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop fade-in" onclick="closeWorkDetail()">
          <div class="bg-white rounded-lg shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto slide-in" onclick="event.stopPropagation()">
            <div class="sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 rounded-t-lg">
              <div class="flex items-start justify-between">
                <div class="flex-1">
                  <h2 class="text-2xl font-bold mb-2">${work.key}</h2>
                  <div class="text-sm text-blue-100">${work.group}</div>
                  <div class="mt-2">${getLevelBadge(level)}</div>
                </div>
                <button onclick="closeWorkDetail()" class="text-white hover:text-gray-200 text-3xl leading-none">&times;</button>
              </div>
            </div>
            
            <div class="p-6 space-y-6">
              <div>
                <h3 class="text-lg font-bold text-gray-800 mb-2">📝 定義</h3>
                <p class="text-gray-700 leading-relaxed">${work.definition}</p>
              </div>
              
              <div class="space-y-4">
                ${['SEED', 'SPROUT', 'HARVEST'].map(levelKey => {
                  const levelData = work.levels[levelKey];
                  if (!levelData) return '';
                  const isCurrentLevel = level === levelKey;
                  
                  return `
                    <div class="border-l-4 ${isCurrentLevel ? 'border-blue-500 bg-blue-50' : 'border-gray-300 bg-gray-50'} p-4 rounded-r-lg">
                      <h4 class="font-bold text-gray-800 mb-2">${levelData.title}</h4>
                      <ul class="space-y-2">
                        ${levelData.behaviors.map(behavior => `
                          <li class="flex items-start gap-2">
                            <span class="text-blue-600 mt-1">✓</span>
                            <span class="text-gray-700">${behavior}</span>
                          </li>
                        `).join('')}
                      </ul>
                    </div>
                  `;
                }).join('')}
              </div>
              
              <div>
                <h3 class="text-lg font-bold text-gray-800 mb-3">🌟 関連する人間力（${relatedHumans.length}個）</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                  ${relatedHumans.map(humanKey => {
                    const humanPower = HUMAN_POWERS.find(h => h.key === humanKey);
                    const currentStars = state.starsByHuman[humanKey] || 0;
                    return `
                      <button 
                        onclick="jumpToHuman('${humanKey}')"
                        class="text-left bg-purple-50 hover:bg-purple-100 rounded-lg p-3 border border-purple-200 transition-colors"
                      >
                        <div class="font-semibold text-purple-800">${humanKey}</div>
                        <div class="text-xs text-purple-600 flex items-center gap-1 mt-1">
                          ${icons.star} ${currentStars.toFixed(1)} / ${humanPower ? humanPower.max : 0}
                        </div>
                      </button>
                    `;
                  }).join('')}
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    // 人間力詳細モーダルをレンダリング
    function renderHumanDetailModal() {
      if (!state.humanDetailOpen || !state.humanDetailKey) return '';
      
      const humanPower = HUMAN_POWERS.find(h => h.key === state.humanDetailKey);
      if (!humanPower) return '';
      
      const relatedWorks = humanPower.relatedWorks || [];
      const currentStars = state.starsByHuman[humanPower.key] || 0;
      const percentage = (currentStars / humanPower.max) * 100;
      
      return `
        <div class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop fade-in" onclick="closeHumanDetail()">
          <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto slide-in" onclick="event.stopPropagation()">
            <div class="sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-lg">
              <div class="flex items-start justify-between">
                <div class="flex-1">
                  <h2 class="text-2xl font-bold mb-2">${humanPower.key}</h2>
                  <div class="text-sm text-purple-100 mb-3">${humanPower.group}力</div>
                  <div class="flex items-center gap-3">
                    <div class="text-lg font-bold flex items-center gap-1">
                      ${icons.star} ${currentStars.toFixed(1)} / ${humanPower.max}
                    </div>
                    <div class="flex-1 bg-white/30 rounded-full h-3">
                      <div class="bg-white h-3 rounded-full progress-bar" style="width: ${percentage}%"></div>
                    </div>
                  </div>
                </div>
                <button onclick="closeHumanDetail()" class="text-white hover:text-gray-200 text-3xl leading-none">&times;</button>
              </div>
            </div>
            
            <div class="p-6 space-y-6">
              <div>
                <h3 class="text-lg font-bold text-gray-800 mb-2">📝 定義</h3>
                <p class="text-gray-700 leading-relaxed">${humanPower.definition}</p>
              </div>
              
              <div>
                <h3 class="text-lg font-bold text-gray-800 mb-3">💡 行動例</h3>
                <ul class="space-y-2">
                  ${humanPower.examples.map(ex => `
                    <li class="flex items-start gap-2">
                      <span class="text-purple-600 mt-1">✓</span>
                      <span class="text-gray-700">${ex}</span>
                    </li>
                  `).join('')}
                </ul>
              </div>
              
              <div>
                <h3 class="text-lg font-bold text-gray-800 mb-3">🧾 関連する業務（${relatedWorks.length}個）</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                  ${relatedWorks.map(workKey => {
                    const level = state.workLevels[workKey] || 'SEED';
                    return `
                      <button 
                        onclick="jumpToWork('${workKey}')"
                        class="text-left bg-blue-50 hover:bg-blue-100 rounded-lg p-3 border border-blue-200 transition-colors"
                      >
                        <div class="font-semibold text-blue-800">${workKey}</div>
                        <div class="text-xs mt-1">${getLevelBadge(level)}</div>
                      </button>
                    `;
                  }).join('')}
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    // レーダーチャート描画（20項目版） — レスポンシブ対応
    function drawRadarChart() {
      const canvas = document.getElementById('radarChart');
      if (!canvas) return;

      // 親コンテナのサイズに合わせてキャンバスをピクセル単位で設定
      const container = canvas.parentElement || canvas;
      const rect = container.getBoundingClientRect();
      const dpr = window.devicePixelRatio || 1;
      const widthCss = Math.max(100, rect.width);
      const heightCss = Math.max(100, rect.height);

      // CSSピクセルに対して物理ピクセルを設定
      canvas.width = Math.round(widthCss * dpr);
      canvas.height = Math.round(heightCss * dpr);
      canvas.style.width = widthCss + 'px';
      canvas.style.height = heightCss + 'px';

      const ctx = canvas.getContext('2d');
      // DPI対応のため、描画座標をCSSピクセル系に揃える
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

      const centerX = widthCss / 2;
      const centerY = heightCss / 2;
      const radius = Math.min(centerX, centerY) - 60;

      // 20項目の人間力データを準備
      const humanData = HUMAN_POWERS.map(h => {
        const currentStars = state.starsByHuman[h.key] || 0;
        const percentage = h.max > 0 ? (currentStars / h.max) * 100 : 0;
        return {
          name: h.key,
          percentage,
          current: currentStars,
          max: h.max
        };
      });

      // キャンバスをクリア
      ctx.clearRect(0, 0, widthCss, heightCss);

      // 背景の円を描画
      const levels = 5;
      for (let i = levels; i > 0; i--) {
        ctx.beginPath();
        ctx.arc(centerX, centerY, (radius * i) / levels, 0, Math.PI * 2);
        ctx.strokeStyle = i === levels ? '#E5E7EB' : '#F3F4F6';
        ctx.lineWidth = 1;
        ctx.stroke();
      }

      // 軸とラベルを描画
      const angleStep = (Math.PI * 2) / humanData.length;
      humanData.forEach((human, index) => {
        const angle = angleStep * index - Math.PI / 2;
        const x = centerX + Math.cos(angle) * radius;
        const y = centerY + Math.sin(angle) * radius;
        
        // 軸を描画
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.lineTo(x, y);
        ctx.strokeStyle = '#E5E7EB';
        ctx.lineWidth = 1;
        ctx.stroke();
        
        // ラベルを描画（外側に配置）
        const labelDistance = radius + 50;
        const labelX = centerX + Math.cos(angle) * labelDistance;
        const labelY = centerY + Math.sin(angle) * labelDistance;
        
        ctx.fillStyle = '#5A5550';
        ctx.font = '10px "Noto Sans JP", sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        
        // テキストを折り返して表示
        const maxWidth = 60;
        const words = human.name.split('');
        let line = '';
        let lines = [];
        
        for (let i = 0; i < words.length; i++) {
          const testLine = line + words[i];
          const metrics = ctx.measureText(testLine);
          if (metrics.width > maxWidth && i > 0) {
            lines.push(line);
            line = words[i];
          } else {
            line = testLine;
          }
        }
        lines.push(line);
        
        // 複数行の場合は上下に配置
        const lineHeight = 12;
        const startY = labelY - ((lines.length - 1) * lineHeight) / 2;
        lines.forEach((textLine, i) => {
          ctx.fillText(textLine, labelX, startY + i * lineHeight);
        });
      });
      
      // データポリゴンを描画
      ctx.beginPath();
      humanData.forEach((human, index) => {
        const angle = angleStep * index - Math.PI / 2;
        const distance = (radius * human.percentage) / 100;
        const x = centerX + Math.cos(angle) * distance;
        const y = centerY + Math.sin(angle) * distance;
        
        if (index === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      });
      ctx.closePath();
      ctx.fillStyle = 'rgba(193, 154, 107, 0.3)';
      ctx.fill();
      ctx.strokeStyle = '#8B7355';
      ctx.lineWidth = 2;
      ctx.stroke();
      
      // データポイントを描画
      humanData.forEach((human, index) => {
        const angle = angleStep * index - Math.PI / 2;
        const distance = (radius * human.percentage) / 100;
        const x = centerX + Math.cos(angle) * distance;
        const y = centerY + Math.sin(angle) * distance;
        
        // ポイントが中心から離れている場合のみ描画
        if (distance > 5) {
          ctx.beginPath();
          ctx.arc(x, y, 4, 0, Math.PI * 2);
          ctx.fillStyle = '#8B7355';
          ctx.fill();
          ctx.strokeStyle = '#FFFFFF';
          ctx.lineWidth = 2;
          ctx.stroke();
        }
      });
    }

    // ウィンドウリサイズで再描画（デバウンス）
    (function() {
      let radarResizeTimeout = null;
      window.addEventListener('resize', function() {
        if (radarResizeTimeout) clearTimeout(radarResizeTimeout);
        radarResizeTimeout = setTimeout(function() {
          try { drawRadarChart(); } catch (e) { /* ignore */ }
        }, 150);
      });
    })();

    // レンダリング
    function render() {
      const app = document.getElementById('app');
      
      const totalStars = getTotalStars();
      const rangeInfo = getBaseRange();
      const skillTotal = getSkillTotal();
      
      app.innerHTML = `
        <div class="min-h-full">
          <!-- 上部固定ナビゲーション -->
          <nav class="top-nav">
            <div class="max-w-7xl mx-auto px-4 py-3">
              <div class="text-center mb-3">
                <h1 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-700 to-amber-900" style="font-family: 'Crimson Pro', serif;">L'Atomos</h1>
              </div>
              <div class="flex flex-wrap gap-2 text-sm">
                ${[
                  { id: 'dashboard', label: 'Lounge' },
                  { id: 'overview', label: '概要' },
                  { id: 'philosophy', label: 'フィロソフィー' },
                  { id: 'works', label: '業務' },
                  { id: 'humanpower', label: '人間力' },
                  { id: 'myunique', label: 'MY UNIQUE' },
                  { id: 'role', label: '役職・役割給' },
                  { id: 'evaluation', label: '評価方法' },
                  { id: 'resources', label: '資料' },
                  { id: 'faq', label: 'FAQ' }
                ].map(tab => `
                  <button 
                    onclick="switchTab('${tab.id}')" 
                    class="tab-button px-3 py-2 rounded-md font-medium transition-all ${state.activeTab === tab.id ? 'active' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}"
                  >
                    ${tab.label}
                  </button>
                `).join('')}
              </div>
            </div>
          </nav>

          <!-- メインコンテンツ -->
          <div class="max-w-7xl mx-auto p-4 md:p-6">
            ${renderTabContent()}
          </div>

          <!-- モーダル -->
          ${renderWorkDetailModal()}
          ${renderHumanDetailModal()}
        </div>
      `;
    }

    function renderTabContent() {
      switch (state.activeTab) {
        case 'dashboard':
          return renderDashboard();
        case 'overview':
          return renderOverview();
        case 'philosophy':
          return renderPhilosophy();
        case 'works':
          return renderWorks();
        case 'humanpower':
          return renderHumanPower();
        case 'myunique':
          return renderMyUnique();
        case 'role':
          return renderRole();
        case 'evaluation':
          return renderEvaluation();
        case 'resources':
          return renderResources();
        case 'faq':
          return renderFAQ();
        default:
          return '';
      }
    }

    function renderEvaluation() {
      return `
        <div class="space-y-6">
          <div class="bg-gradient-to-br from-indigo-600 to-blue-600 text-white rounded-lg shadow-xl p-8">
            <h1 class="text-3xl md:text-4xl font-bold mb-3">📋 評価方法</h1>
            <p class="text-lg text-indigo-100">成長の対話を通じた評価プロセス</p>
          </div>

          <!-- 1. 評価の目的 -->
          <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
              <span>🎯</span>
              <span>1. 評価の目的</span>
            </h2>
            <div class="space-y-4">
              <div class="bg-indigo-50 border-l-4 border-indigo-500 p-5 rounded-r-lg">
                <ul class="space-y-3 text-gray-700">
                  <li class="flex items-start gap-3">
                    <span class="text-indigo-600 text-xl mt-0.5">•</span>
                    <span>評価は<strong class="text-indigo-800">「査定」ではなく、双方の成長の対話</strong>。</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <span class="text-indigo-600 text-xl mt-0.5">•</span>
                    <span>売上・スキルではなく、<strong class="text-indigo-800">「業務を通じてどんな人間力を育んだか」を"語れるようになる"</strong>ことが目的。</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <span class="text-indigo-600 text-xl mt-0.5">•</span>
                    <span>面談は、<strong class="text-indigo-800">「次の６ヶ月をどう生きるか」をお互いに認識し合う場</strong>。</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <!-- 2. 評価サイクルの全体像 -->
          <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-blue-700 mb-4 flex items-center gap-2">
              <span>🔄</span>
              <span>2. 評価サイクルの全体像</span>
            </h2>
            <div class="overflow-x-auto">
              <table class="w-full text-sm border-collapse">
                <thead>
                  <tr class="bg-blue-100">
                    <th class="border border-blue-300 px-4 py-3 text-left font-bold text-blue-800">時期</th>
                    <th class="border border-blue-300 px-4 py-3 text-left font-bold text-blue-800">フェーズ</th>
                    <th class="border border-blue-300 px-4 py-3 text-left font-bold text-blue-800">主な目的</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="hover:bg-blue-50">
                    <td class="border border-gray-300 px-4 py-3 font-semibold">８〜１月<br>２〜７月</td>
                    <td class="border border-gray-300 px-4 py-3 text-blue-700 font-bold">実践期間</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">各自が設定した業務・人間力テーマに基づき日常業務に取り組む</td>
                  </tr>
                  <tr class="hover:bg-yellow-50">
                    <td class="border border-gray-300 px-4 py-3 font-semibold">６月・１２月</td>
                    <td class="border border-gray-300 px-4 py-3 text-yellow-700 font-bold">振り返り準備</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">自分の取り組みを整理し、次のテーマを考える</td>
                  </tr>
                  <tr class="hover:bg-green-50">
                    <td class="border border-gray-300 px-4 py-3 font-semibold">7月・１月</td>
                    <td class="border border-gray-300 px-4 py-3 text-green-700 font-bold">評価・面談</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">成長の「語り」と「すり合わせ」を行う。次の半年の方向性を握る</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- 3. 評価期間ごとのやること -->
          <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-green-700 mb-6 flex items-center gap-2">
              <span>📅</span>
              <span>3. 評価期間ごとのやること</span>
            </h2>

            <div class="space-y-6">
              <!-- 実践期間 -->
              <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-lg p-6 border-l-4 border-green-500">
                <h3 class="text-xl font-bold text-green-800 mb-4 flex items-center gap-2">
                  <span>🟢</span>
                  <span>月①〜⑤：実践期間（成長の半年間）</span>
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h4 class="font-bold text-green-700 mb-3 flex items-center gap-2">
                      <span>👤</span>
                      <span>評価される側（スタッフ）</span>
                    </h4>
                    <ul class="space-y-2 text-sm text-gray-700">
                      <li class="flex items-start gap-2">
                        <span class="text-green-600 mt-1">✓</span>
                        <span>自分が設定したテーマ・業務に日常的に取り組む</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-green-600 mt-1">✓</span>
                        <span>週・月単位で簡易メモを残しておく（印象に残った出来事・気づき）</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-green-600 mt-1">✓</span>
                        <span>振り返り期に備えて、「自分の変化」を言語化できるように意識する</span>
                      </li>
                    </ul>
                  </div>

                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h4 class="font-bold text-blue-700 mb-3 flex items-center gap-2">
                      <span>👔</span>
                      <span>評価する側（責任者）</span>
                    </h4>
                    <ul class="space-y-2 text-sm text-gray-700">
                      <li class="flex items-start gap-2">
                        <span class="text-blue-600 mt-1">✓</span>
                        <span>スタッフの業務を観察し、小さな変化・行動を記録する</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-blue-600 mt-1">✓</span>
                        <span>定期的に声をかけ、「今どんな気づきがある？」などのミニ対話を行う</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-blue-600 mt-1">✓</span>
                        <span>次期のテーマ候補（伸ばしてほしい業務・人間力）を意識しておく</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- 振り返り準備期間 -->
              <div class="bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-6 border-l-4 border-yellow-500">
                <h3 class="text-xl font-bold text-yellow-800 mb-4 flex items-center gap-2">
                  <span>🟡</span>
                  <span>月⑤：自己振り返り・準備期間</span>
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h4 class="font-bold text-yellow-700 mb-3 flex items-center gap-2">
                      <span>👤</span>
                      <span>評価される側（スタッフ）</span>
                    </h4>
                    <div class="space-y-3 text-sm text-gray-700">
                      <div>
                        <p class="font-semibold text-yellow-800 mb-2">1. 「６ヶ月の振り返りシート」を記入</p>
                        <ul class="space-y-1 ml-4">
                          <li class="flex items-start gap-2">
                            <span class="text-yellow-600">•</span>
                            <span>印象に残った業務・経験</span>
                          </li>
                          <li class="flex items-start gap-2">
                            <span class="text-yellow-600">•</span>
                            <span>その経験を通して考えたこと</span>
                          </li>
                          <li class="flex items-start gap-2">
                            <span class="text-yellow-600">•</span>
                            <span>次に取り組みたい業務・磨きたい人間力</span>
                          </li>
                          <li class="flex items-start gap-2">
                            <span class="text-yellow-600">•</span>
                            <span>なぜ今それを選んだのか（理由を明確に）</span>
                          </li>
                        </ul>
                      </div>
                      <div>
                        <p class="font-semibold text-yellow-800">2. 面談で"語れるように"準備する</p>
                      </div>
                    </div>
                  </div>

                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h4 class="font-bold text-orange-700 mb-3 flex items-center gap-2">
                      <span>👔</span>
                      <span>評価する側（責任者）</span>
                    </h4>
                    <ul class="space-y-2 text-sm text-gray-700">
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">1.</span>
                        <span>スタッフの振り返り内容を事前に確認</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">2.</span>
                        <span>「どの点を掘り下げて聞きたいか」をメモしておく</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">3.</span>
                        <span>自分から伝えたい「期待・方向性・次の役割」も整理しておく</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- 評価・面談期間 -->
              <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border-l-4 border-blue-500">
                <h3 class="text-xl font-bold text-blue-800 mb-4 flex items-center gap-2">
                  <span>🔵</span>
                  <span>月⑥：評価・面談期間</span>
                </h3>
                
                <div class="mb-5">
                  <h4 class="font-bold text-purple-700 mb-3 text-lg">面談の流れ（推奨フロー）</h4>
                  <div class="overflow-x-auto">
                    <table class="w-full text-sm border-collapse">
                      <thead>
                        <tr class="bg-purple-100">
                          <th class="border border-purple-300 px-4 py-2 text-left font-bold text-purple-800">フェーズ</th>
                          <th class="border border-purple-300 px-4 py-2 text-left font-bold text-purple-800">内容</th>
                          <th class="border border-purple-300 px-4 py-2 text-left font-bold text-purple-800">主な役割</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="hover:bg-purple-50">
                          <td class="border border-gray-300 px-4 py-2 font-semibold">① 自己語り</td>
                          <td class="border border-gray-300 px-4 py-2 text-gray-700">スタッフが、経験と次期の意向を語る</td>
                          <td class="border border-gray-300 px-4 py-2 text-blue-700">評価される側</td>
                        </tr>
                        <tr class="hover:bg-purple-50">
                          <td class="border border-gray-300 px-4 py-2 font-semibold">② 掘り下げ</td>
                          <td class="border border-gray-300 px-4 py-2 text-gray-700">「なぜ」「どんな想いで」「どう変わったか」を質問</td>
                          <td class="border border-gray-300 px-4 py-2 text-orange-700">評価する側</td>
                        </tr>
                        <tr class="hover:bg-purple-50">
                          <td class="border border-gray-300 px-4 py-2 font-semibold">③ 責任者の期待提示</td>
                          <td class="border border-gray-300 px-4 py-2 text-gray-700">次期に期待する役割・方向を伝える</td>
                          <td class="border border-gray-300 px-4 py-2 text-orange-700">評価する側</td>
                        </tr>
                        <tr class="hover:bg-purple-50">
                          <td class="border border-gray-300 px-4 py-2 font-semibold">④ すり合わせ</td>
                          <td class="border border-gray-300 px-4 py-2 text-gray-700">双方の言葉で「次期テーマ・業務・意識点」を合意</td>
                          <td class="border border-gray-300 px-4 py-2 text-green-700">両者</td>
                        </tr>
                        <tr class="hover:bg-purple-50">
                          <td class="border border-gray-300 px-4 py-2 font-semibold">⑤ 締め</td>
                          <td class="border border-gray-300 px-4 py-2 text-gray-700">一言宣言と励ましで終了</td>
                          <td class="border border-gray-300 px-4 py-2 text-green-700">両者</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h4 class="font-bold text-blue-700 mb-3">評価される側の目的</h4>
                    <ul class="space-y-2 text-sm text-gray-700">
                      <li class="flex items-start gap-2">
                        <span class="text-blue-600 mt-1">✓</span>
                        <span>自分の経験を言葉で"語れる"ようにする</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-blue-600 mt-1">✓</span>
                        <span>「なぜそれをやるのか」「どうなりたいのか」を明確に持つ</span>
                      </li>
                    </ul>
                  </div>

                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h4 class="font-bold text-orange-700 mb-3">評価する側の目的</h4>
                    <ul class="space-y-2 text-sm text-gray-700">
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">✓</span>
                        <span>語りを丁寧に掘り下げ、「本当の動機」を一緒に見つける</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">✓</span>
                        <span>責任者として「どんな風に育ってほしいか」を伝える</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">✓</span>
                        <span>双方で「次の６ヶ月の方針」を握り、合意形成をする</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 4. 星・給与への反映 -->
          <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-purple-700 mb-4 flex items-center gap-2">
              <span>⭐</span>
              <span>4. 星・給与への反映（面談後）</span>
            </h2>
            <div class="bg-purple-50 border-l-4 border-purple-500 p-5 rounded-r-lg">
              <ul class="space-y-3 text-gray-700">
                <li class="flex items-start gap-3">
                  <span class="text-purple-600 text-xl mt-0.5">•</span>
                  <span>面談結果をもとに、Sprout／Harvestの判断を行う</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-purple-600 text-xl mt-0.5">•</span>
                  <span>人間力への星加算を記録</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-purple-600 text-xl mt-0.5">•</span>
                  <span>合計星数から給与レンジを更新</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-purple-600 text-xl mt-0.5">•</span>
                  <span>役職給・スキル給・MY Uniqueも同時に再評価</span>
                </li>
              </ul>
            </div>
          </div>

          <!-- 5. 制度メッセージ -->
          <div class="bg-gradient-to-br from-indigo-600 to-purple-700 text-white rounded-lg shadow-xl p-8">
            <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
              <span>💬</span>
              <span>5. 制度メッセージ（共通理解として掲げる）</span>
            </h2>
            <div class="bg-white/20 backdrop-blur-sm rounded-lg p-6">
              <p class="text-xl leading-relaxed text-white font-medium text-center">
                成長とはみずからの経験を語ること、その語りに熱があること。<br>
                スタッフは自分の成長を語り、<br>
                責任者は未来の期待を語る。<br>
                その対話を通して、「なりたい自分になる」半年を積み重ねていく。
              </p>
            </div>
          </div>
        </div>
      `;
    }

    function renderPhilosophy() {
      return `
        <div class="space-y-8 max-w-4xl mx-auto">
          <!-- ヘッダー -->
          <div class="text-center py-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-3">フィロソフィー</h1>
            <p class="text-gray-600">バルニバービの理念と14のフィロソフィー</p>
          </div>

          <!-- 経営理念 -->
          <div class="bg-white rounded-lg shadow-md p-10 text-center border-t-4 border-gray-800">
            <h2 class="text-xl font-bold text-gray-800 mb-6">経営理念</h2>
            <p class="text-3xl font-bold text-gray-800 leading-relaxed">
              食べる、食べていただく仕事をとおして<br>なりたい自分になる。
            </p>
          </div>

          <!-- 14のフィロソフィー -->
          <div class="bg-white rounded-lg shadow-md p-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center border-b pb-4">14のフィロソフィー</h2>
            
            <div class="space-y-8">
              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「笑顔で元気に。」</h3>
                <p class="text-gray-700 leading-relaxed">全ては笑顔と元気から。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「食べることが好きですか。お客様の笑顔がみたいですか。」</h3>
                <p class="text-gray-700 leading-relaxed">食べることが好きだから、自分も「食べたい！」と思えるものを。喜んでもらえることが好きだから、自分も「嬉しい！」と感じることを。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「好きで得意で社会に役立つことを懸命に」</h3>
                <p class="text-gray-700 leading-relaxed">社会に役立つとは、人々に輝く笑顔や、「ありがとう」が生まれること。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「苦楽しい」</h3>
                <p class="text-gray-700 leading-relaxed">情熱を持って、目標に向かうことは苦しくも楽しい。「楽々しい」は、単に、今を楽して楽しむだけのこと。なりたい自分は、「苦楽しい」が連れてきてくれます。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「会社は何のためにあるのか」</h3>
                <p class="text-gray-700 leading-relaxed">食べることが好きで、お客様の笑顔が見たいスタッフが、それぞれ実現したいことを、会社というチーム、ステージを使って実践する。会社のためのあなたではなく、あなたのための会社なのだ。同じ意味で、あなたのためにルールがあり、ルール自体に矛盾や瑕疵があるなら、それを変えればいい。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「楽しい場所に人は集まる。お客様も、スタッフも。」</h3>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「今、目の前にいらっしゃるお客様にできることを全力で」</h3>
                <p class="text-gray-700 leading-relaxed">心地よい風が吹き抜ける昼下がり。雨降る夜の金曜日。さあ、どうやって楽しんでいただこうか。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「一皿入魂」</h3>
                <p class="text-gray-700 leading-relaxed">どんなに忙しくても、目の前の一皿に心を込めます。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「お客様、私たち、取引企業様、三社がいるからこそ、理想のお店が生まれる」</h3>
                <p class="text-gray-700 leading-relaxed">上下の関係ではなく、共に築いていくもの。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「器ではなく、空気をつくる」</h3>
                <p class="text-gray-700 leading-relaxed">心地よさも、安心感も、ワクワクも、目に見えないものをつくること。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「目指すお店はお腹だけではなく、心を満たすレストラン」</h3>
                <p class="text-gray-700 leading-relaxed">例えばそれは、ひたすら元気あふれるお店、店内もトイレもピカピカなお店、その日の空気を反映した音楽が流れているお店、イキイキと植栽たちが育つお店。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「とにかく、楽しむ！」</h3>
                <p class="text-gray-700 leading-relaxed">カフェアートを描くこと、新しいメニューを考えること、選んだワインで喜んでもらえること。楽しいと感じることに、全身全霊で。初めてで不安なこと、苦手だなと思うことをやらなきゃいけないなら、とにかくそれすらも楽しもうとすること。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「自分の幸せだけを考えることと、自分だけの幸せを考えることは全く違う」</h3>
                <p class="text-gray-700 leading-relaxed">自分の幸せだけを考えるとき、パートナー、家族、友人、仲間の幸せを考えるようになる。自分の幸せは、自分だけの幸せではない。</p>
              </div>

              <div class="border-l-4 border-gray-300 pl-6">
                <h3 class="text-lg font-bold text-gray-800 mb-2">「チャンスは常に目の前にある。あとは自分次第。」</h3>
                <p class="text-gray-700 leading-relaxed">バルニバービには、いつでもチャレンジできる環境がある。思いは、声に出していこう。</p>
              </div>
            </div>
          </div>

          <!-- 締めのメッセージ -->
          <div class="bg-gray-800 text-white rounded-lg shadow-md p-10 text-center">
            <p class="text-xl leading-relaxed">
              これらのフィロソフィーは、<br>
              私たちが日々の仕事を通じて<br>
              「なりたい自分になる」ための道しるべです。
            </p>
          </div>
        </div>
      `;
    }

    function renderFAQ() {
      return `
        <div class="space-y-6">
          <div class="bg-gradient-to-br from-blue-600 to-cyan-600 text-white rounded-lg shadow-xl p-6">
            <h2 class="text-2xl font-bold mb-2">❓ よくある質問（FAQ）</h2>
            <p class="text-blue-100">制度に関する疑問にお答えします</p>
          </div>

          <div class="space-y-4">
            ${[
              {
                q: 'この制度の目的は何ですか？',
                a: '「食べる、食べていただく仕事を通して、なりたい自分になる」という理念を実現するために設計された制度です。仕事を通じて「人間力」を磨き、その成長が給与（＝価値）に反映される仕組みです。'
              },
              {
                q: '星はどうやってつきますか？',
                a: '星は「人間力」に付与されます。Sprout（できるようになった）＝0.5星、Harvest（成果を出せる）＝1星。業務を通じて関連する人間力に星が加算されていきます。'
              },
              {
                q: '星が増えると給与はどう変わりますか？',
                a: '星の合計数によって基本給レンジが決まります。例：新人（〜10星）25〜27万円、コアスタッフ（10〜24星）27〜33万円、店長クラス（25〜34星）33〜40万円、SVクラス（35〜45星）40〜55万円。'
              },
              {
                q: 'スキル給とは何ですか？',
                a: '資格やスキル「を持っている」ことではなく、「活かしている」ことを評価する報酬です。①店舗内で活かす（〜3万円）②業績貢献（〜5万円）③会社ブランド貢献（〜10万円）の3段階で支給されます。'
              },
              {
                q: 'MY Unique（ユニーク給）とは？',
                a: '「あなたらしい挑戦や個性」を評価する制度です。チャレンジ（個人的目標への挑戦／5,000円）と、スペシャリティ（特別スキルの活用／5,000〜100,000円）の2種類があります。'
              },
              {
                q: '星制度とスキル給、ユニーク給の違いは？',
                a: '星：人間力の成長（努力や姿勢）を評価、スキル給：専門的スキルの発揮（活かし方）を評価、MY Unique：個性・挑戦（あなたらしさ）を評価。すべてを合わせて「あなたの成長と貢献」を総合的に評価します。'
              },
              {
                q: '人間力とは何ですか？',
                a: '「人としての力」を20項目で定義しています。例：信頼構築力・柔軟性・感性力・行動力・内省力・感謝力など。業務を通して自然に磨かれていく力です。'
              },
              {
                q: '業務内容との関係は？',
                a: '各業務は「人間力を育てる実践の場」です。たとえば「顧客体験」は表現力・感性力・感謝力、「チーム協働」は信頼構築力・他者受容力など、明確に紐づいています。'
              },
              {
                q: '星をどうすれば増やせますか？',
                a: '日々の業務の中でSprout（できる）からHarvest（導ける）へ成長すること。上長との対話の中で「どの業務を、どの人間力として伸ばすか」を明確にし、半年ごとの評価で加算されます。'
              },
              {
                q: '最終的に給与はどのように決まりますか？',
                a: '給与 ＝ 基本給（星数）＋ 役職給 ＋ スキル給 ＋ MY Unique。成長・挑戦・貢献の3軸が反映され、「私たちの成長」を報酬化します。'
              }
            ].map(item => `
              <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="font-bold text-gray-800 mb-2 text-lg">Q. ${item.q}</h3>
                <p class="text-gray-700 pl-4 border-l-4 border-blue-500 leading-relaxed">A. ${item.a}</p>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderDashboard() {
      const totalStars = getTotalStars();
      const rangeInfo = getBaseRange();
      const skillTotal = getSkillTotal();
      const rolePayValue = state.selectedRolePayAmount || 0;
      const challengePay = state.myUniqueChallenge;
      
      const rangeMatch = rangeInfo.range.match(/(\d{1,3}(?:,\d{3})*)/g);
      let basePay = 250000;
      if (rangeMatch && rangeMatch.length >= 1) {
        basePay = parseInt(rangeMatch[0].replace(/,/g, ''));
      }
      
      const totalPay = basePay + skillTotal + rolePayValue + challengePay;
      
      // 次のレンジまでの星数を計算
      const nextRangeIndex = STAR_RANGES.findIndex(r => totalStars >= r.min && totalStars < r.max);
      const nextRange = nextRangeIndex >= 0 && nextRangeIndex < STAR_RANGES.length - 1 
        ? STAR_RANGES[nextRangeIndex + 1] 
        : null;
      const starsToNext = nextRange ? nextRange.min - totalStars : 0;

      // 取り組み中の業務
      const inProgressWorks = getInProgressWorks();

      return `
        <div class="space-y-6">
          <!-- ユーザー情報バー -->
          <div class="bg-white rounded-lg shadow-lg p-6">
            <div class="flex flex-wrap items-center gap-4">
              <div class="w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg">
                ${state.userName.charAt(0)}
              </div>
              <div class="flex-1 min-w-[200px]">
                <div class="flex items-center gap-3 mb-2">
                  <input 
                    type="text" 
                    id="userName"
                    value="${state.userName}"
                    onchange="updateUserInfo()"
                    placeholder="お名前"
                    class="text-2xl font-bold text-gray-800 border-b-2 border-transparent hover:border-blue-300 focus:border-blue-500 focus:outline-none px-2 py-1"
                  >
                </div>
                <div class="flex flex-wrap items-center gap-2">
                  <input 
                    type="text" 
                    id="userStore"
                    value="${state.userStore}"
                    onchange="updateUserInfo()"
                    placeholder="店舗名"
                    class="text-gray-600 border-b border-transparent hover:border-blue-300 focus:border-blue-500 focus:outline-none px-2 py-1"
                  >
                  <span class="text-gray-400">｜</span>
                  <input 
                    type="text" 
                    id="userPosition"
                    value="${state.userPosition}"
                    onchange="updateUserInfo()"
                    placeholder="役職"
                    class="text-gray-600 border-b border-transparent hover:border-blue-300 focus:border-blue-500 focus:outline-none px-2 py-1"
                  >
                  <span class="text-gray-400">｜</span>
                  <span class="flex items-center gap-1 text-yellow-600 font-bold">
                    ⭐ ${totalStars.toFixed(1)}星
                  </span>
                </div>
              </div>
            </div>
          </div>

          <!-- 給与レンジカード -->
          <div class="bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg shadow-xl p-6 border-l-4 border-blue-600">
            <h2 class="text-xl font-bold text-blue-800 mb-4 flex items-center gap-2">
              💫 給与レンジカード
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
              <div class="bg-white rounded-lg p-4 shadow-sm">
                <div class="text-sm text-gray-600 mb-1">現在レンジ</div>
                <div class="text-2xl font-bold text-blue-700">${rangeInfo.range}</div>
                <div class="text-xs text-gray-500 mt-1">${rangeInfo.stage}</div>
              </div>
              
              ${nextRange ? `
                <div class="bg-white rounded-lg p-4 shadow-sm">
                  <div class="text-sm text-gray-600 mb-1">次のレンジまで</div>
                  <div class="text-2xl font-bold text-orange-600">あと ⭐${starsToNext.toFixed(1)}星</div>
                  <div class="text-xs text-gray-500 mt-1">${nextRange.range}</div>
                </div>
              ` : `
                <div class="bg-white rounded-lg p-4 shadow-sm">
                  <div class="text-sm text-gray-600 mb-1">到達状況</div>
                  <div class="text-xl font-bold text-green-600">🎉 最高レンジ達成！</div>
                </div>
              `}
            </div>

            <div class="bg-white rounded-lg p-5 shadow-md">
              <div class="text-sm text-gray-600 mb-3 font-semibold">給与内訳</div>
              <div class="space-y-2">
                <div class="flex justify-between items-center">
                  <span class="text-gray-700">基本給：</span>
                  <span class="font-bold text-lg text-gray-800">${formatNumber(basePay)}円</span>
                </div>
                <div class="flex justify-between items-center text-purple-700">
                  <span>＋ スキル給：</span>
                  <span class="font-bold">${formatNumber(skillTotal)}円</span>
                </div>
                <div class="flex justify-between items-center text-indigo-700">
                  <span>＋ 役職給：</span>
                  <div class="flex flex-col gap-3 flex-1 ml-4">
                    <!-- 役職選択ラジオボタン -->
                    <div class="flex flex-wrap gap-3">
                      ${Object.entries(ROLE_PAY_RANGES).map(([key, config]) => `
                        <label class="flex items-center gap-2 cursor-pointer">
                          <input 
                            type="radio" 
                            name="rolePay" 
                            value="${key}" 
                            ${state.selectedRolePayType === key ? 'checked' : ''} 
                            onchange="updateRolePayType('${key}')"
                          >
                          <span class="text-sm">${config.label}</span>
                        </label>
                      `).join('')}
                    </div>
                    
                    <!-- 金額入力フィールド（役職選択時のみ表示） -->
                    ${state.selectedRolePayType !== 'none' ? `
                      <div class="bg-blue-50 rounded p-3 flex items-center gap-3">
                        <label class="text-sm font-semibold text-gray-700 min-w-fit">金額:</label>
                        <input 
                          type="number" 
                          id="rolePayInput"
                          value="${state.selectedRolePayAmount || ROLE_PAY_RANGES[state.selectedRolePayType].min}"
                          min="${ROLE_PAY_RANGES[state.selectedRolePayType].min}"
                          max="${ROLE_PAY_RANGES[state.selectedRolePayType].max}"
                          step="1000"
                          onchange="if(this.value) updateRolePayAmount(this.value)"
                          oninput="this.value = this.value.replace(/[^0-9]/g, '')"
                          class="w-24 px-2 py-1 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-right font-semibold"
                        >
                        <span class="text-sm text-gray-600">円</span>
                        <span class="text-xs text-gray-500 ml-2">
                          (${formatNumber(ROLE_PAY_RANGES[state.selectedRolePayType].min)} 〜 ${formatNumber(ROLE_PAY_RANGES[state.selectedRolePayType].max)})
                        </span>
                      </div>
                    ` : `
                      <div class="text-sm text-gray-500">（金額なし）</div>
                    `}
                  </div>
                </div>
                <div class="flex justify-between items-center text-pink-700">
                  <span>＋ チャレンジ給：</span>
                  <span class="font-bold">${formatNumber(challengePay)}円</span>
                </div>
                <div class="border-t-2 border-gray-300 pt-3 mt-3 flex justify-between items-center">
                  <span class="text-xl font-bold text-gray-800">＝ 合計：</span>
                  <span class="text-3xl font-bold text-blue-700">${formatNumber(totalPay)}円</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 人間力レーダーチャート -->
          <div class="bg-white rounded-lg shadow-lg p-6">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-xl font-bold text-purple-700 flex items-center gap-2">
                📊 人間力レーダーチャート
              </h2>
              <button 
                onclick="switchTab('humanpower')"
                class="text-sm text-blue-600 hover:text-blue-800 font-semibold flex items-center gap-1"
              >
                詳細を見る ${icons.arrowUpRight}
              </button>
            </div>
            
            <div class="flex justify-center">
              <div class="radar-container">
                <canvas id="radarChart" class="radar-chart"></canvas>
              </div>
            </div>
          </div>

          <!-- 現在の活動 -->
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-bold text-green-700 mb-4 flex items-center gap-2">
              🪴 現在の活動
            </h2>
            
            <div class="space-y-4">
              <!-- 取り組み中の業務 -->
              <div class="bg-green-50 rounded-lg p-4 border-l-4 border-green-500">
                <h3 class="font-semibold text-green-800 mb-2">現在取り組んでいる業務</h3>
                ${inProgressWorks.length > 0 ? `
                  <div class="space-y-2">
                    ${inProgressWorks.map(workKey => {
                      const level = state.workLevels[workKey] || 'SEED';
                      return `
                        <div class="flex items-center justify-between bg-white rounded p-3">
                          <div>
                            <div class="font-semibold text-gray-800">${workKey}</div>
                            <div class="text-sm">${getLevelBadge(level)}</div>
                          </div>
                          <button 
                            onclick="switchTab('works')"
                            class="text-sm text-blue-600 hover:text-blue-800 font-semibold"
                          >
                            詳細を見る
                          </button>
                        </div>
                      `;
                    }).join('')}
                  </div>
                ` : '<p class="text-gray-600 text-sm">現在取り組み中の業務はありません</p>'}
              </div>

              <!-- チャレンジテーマ -->
              <div class="bg-pink-50 rounded-lg p-4 border-l-4 border-pink-500">
                <h3 class="font-semibold text-pink-800 mb-2">チャレンジテーマ</h3>
                ${state.challengeDialogChecked && state.challengeText ? `
                  <p class="text-gray-700">${state.challengeText}</p>
                ` : '<p class="text-gray-600 text-sm">まだ設定されていません</p>'}
              </div>

              <!-- スキル給・役職給 -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-purple-50 rounded-lg p-4 border-l-4 border-purple-500">
                  <h3 class="font-semibold text-purple-800 mb-2">スキル給</h3>
                  <div class="text-2xl font-bold text-purple-700">¥${formatNumber(skillTotal)}</div>
                  ${state.skills.length > 0 ? `
                    <div class="text-xs text-gray-600 mt-1">${state.skills.map(s => s.name).join(', ')}</div>
                  ` : '<div class="text-xs text-gray-600 mt-1">未登録</div>'}
                </div>
                
                <div class="bg-indigo-50 rounded-lg p-4 border-l-4 border-indigo-500">
                  <h3 class="font-semibold text-indigo-800 mb-2">役職給</h3>
                  <div class="text-2xl font-bold text-indigo-700">¥${formatNumber(rolePayValue)}</div>
                  <div class="text-xs text-gray-600 mt-1">${state.userPosition}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderOverview() {
      return `
        <div class="space-y-6">
          <div class="bg-gradient-to-br from-blue-600 to-purple-700 text-white rounded-lg shadow-xl p-8">
            <h1 class="text-3xl md:text-4xl font-bold mb-3">L'Atomos</h1>
            <p class="text-lg md:text-xl text-blue-100">〜人間力 × 業務内容で描く、あなただけの成長ストーリー〜</p>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-blue-700 mb-4 flex items-center gap-2">
              🎯 この制度が目指すもの
            </h2>
            <div class="space-y-4 text-gray-700 leading-relaxed">
              <p>私たちがつくったこの制度は、みなさんが日々の仕事を通して、人としてどう成長していくかを大切にし、その挑戦を応援するための仕組みです。</p>
              <p>「仕事ができたから給料が上がる」――そんな単純なルールではありません。むしろ、この不安定な時代だからこそ大切にしたいのは、</p>
              <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-4">
                <p class="text-xl font-bold text-blue-800">「どこで、何をしていようとも、10年後も元気に生きていること」</p>
              </div>
              <p>その願いを込めて、この制度はあなたの成長の軌跡（ジャーニー）を描く地図として生まれました。</p>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
            <h2 class="text-2xl font-bold text-purple-700 mb-6 flex items-center gap-2">
              ✨ 3つのポイント
            </h2>
            
            <div class="space-y-6">
              <div class="border-l-4 border-green-500 pl-4 bg-green-50 p-4 rounded-r-lg">
                <h3 class="text-xl font-bold text-green-700 mb-3">1. 業務内容は「人を育てる最高の道具」</h3>
                <div class="space-y-3 text-gray-700">
                  <p>お店での仕事一つひとつは、ただの作業ではありません。「接客」「調理」「シフト管理」…そのすべてが、あなたの人間性を育む大切な舞台です。</p>
                  <div class="bg-white p-3 rounded-lg border border-green-200">
                    <p class="font-semibold text-green-800 mb-2">例えば「顧客体験・応対」に挑戦すると――</p>
                    <ul class="space-y-1 text-sm">
                      <li>◎ お客様の気持ちを察する <strong>共感力</strong></li>
                      <li>◎ 店の空気を読み取り整える <strong>感性力</strong></li>
                      <li>◎ 自分の言葉で笑顔を生む <strong>表現力</strong></li>
                    </ul>
                    <p class="mt-2 text-sm">が自然と磨かれていきます。</p>
                  </div>
                </div>
              </div>

              <div class="border-l-4 border-yellow-500 pl-4 bg-yellow-50 p-4 rounded-r-lg">
                <h3 class="text-xl font-bold text-yellow-700 mb-3">2. 星は「あなたの成長の証」</h3>
                <div class="space-y-3 text-gray-700">
                  <p>あなたが身につけた人間力は、<strong>「星」</strong>というかたちで可視化されます。</p>
                  <div class="bg-white p-3 rounded-lg border border-yellow-200">
                    <ul class="space-y-2">
                      <li class="flex items-center gap-2">
                        <span class="text-2xl">🌱</span>
                        <span><strong>Sprout（できるようになった）</strong> … 0.5星</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-2xl">🌾</span>
                        <span><strong>Harvest（極めた）</strong> … 1星</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="border-l-4 border-blue-500 pl-4 bg-blue-50 p-4 rounded-r-lg">
                <h3 class="text-xl font-bold text-blue-700 mb-3">3. 給料は「人としての価値」</h3>
                <div class="space-y-3 text-gray-700">
                  <p>あなたが手にした星の数が、そのまま基本給に反映されます。</p>
                  <div class="bg-white p-3 rounded-lg border border-blue-200">
                    <p class="font-semibold mb-2">さらに、</p>
                    <ul class="space-y-1 text-sm">
                      <li>• <strong>マイユニーク：</strong>あなたらしい挑戦や個性の評価</li>
                      <li>• <strong>役職手当：</strong>役割に伴う責任への報酬</li>
                    </ul>
                    <p class="mt-2 text-sm">が組み合わさり、給料が決まります。</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gradient-to-br from-purple-600 to-pink-600 text-white rounded-lg shadow-xl p-6 md:p-8">
            <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
              🚀 あなたの旅路へ
            </h2>
            <div class="space-y-3 text-purple-50 leading-relaxed">
              <p>この制度は、あなたを縛るルールではなく、あなたを解き放つ地図です。</p>
              <p>日々の仕事を、ただの繰り返しにせず、<strong class="text-white">「人としての成長物語」</strong>に変えていくための旅の伴走者。</p>
              <p class="text-xl font-bold text-white mt-4">それが L'Atomos。</p>
            </div>
          </div>
        </div>
      `;
    }

    function renderHumanPower() {
      const groupedHuman = {};
      HUMAN_POWERS.forEach(h => {
        if (!groupedHuman[h.group]) {
          groupedHuman[h.group] = [];
        }
        groupedHuman[h.group].push(h);
      });

      return `
        <div class="space-y-6">
          <div class="bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-lg shadow-xl p-6">
            <h2 class="text-2xl font-bold mb-2">人間力一覧</h2>
            <p class="text-blue-100">業務を通じて育まれる20の人間力と、現在の獲得星数</p>
          </div>

          ${Object.entries(groupedHuman).map(([groupName, humans]) => {
            const groupColors = {
              "① 個人（自己認識・自己管理）": { bg: "from-blue-600 to-indigo-600", border: "border-blue-500", card: "from-blue-50 to-indigo-50" },
              "② 対人（社会的認識）": { bg: "from-blue-500 to-cyan-600", border: "border-cyan-500", card: "from-blue-50 to-cyan-50" },
              "③ チーム（関係管理）": { bg: "from-indigo-600 to-blue-700", border: "border-indigo-500", card: "from-indigo-50 to-blue-50" }
            };
            const colors = groupColors[groupName] || { bg: "from-gray-600 to-gray-700", border: "border-gray-500", card: "from-gray-50 to-gray-100" };
            
            // グループ名から番号を削除
            const displayGroupName = groupName.replace(/^[①②③]\s*/, '');
            
            return `
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
              <div class="bg-gradient-to-r ${colors.bg} text-white p-4">
                <h3 class="text-xl font-bold">${displayGroupName}</h3>
                <p class="text-sm mt-1 opacity-90">
                  ${groupName.includes("個人") ? "自分を理解し、感情・思考・行動を整えて成長していく力" : 
                    groupName.includes("対人") ? "他者を理解し、関係性を深めていく力" : 
                    "複数の人と協働し、成果や環境をつくり出す力"}
                </p>
              </div>
              <div class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                  ${humans.map(h => {
                    const currentStars = state.starsByHuman[h.key] || 0;
                    const percentage = (currentStars / h.max) * 100;
                    
                    return `
                      <div id="human-card-${h.key.replace(/[^a-zA-Z0-9]/g, '_')}" class="bg-gradient-to-br ${colors.card} rounded-lg shadow-md p-4 border-2 ${colors.border} transition-all hover:shadow-lg">
                        <div class="flex items-center justify-between mb-2">
                          <h4 class="font-bold text-gray-800">${h.key}</h4>
                          <div class="flex items-center gap-1 text-yellow-500 font-bold">
                            ${icons.star}
                            <span>${currentStars.toFixed(1)} / ${h.max}</span>
                          </div>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                          <div class="progress-bar bg-gradient-to-r from-blue-400 to-indigo-500 h-2 rounded-full" style="width: ${percentage}%"></div>
                        </div>
                        <div class="flex items-center justify-between">
                          <div class="text-xs text-gray-600">
                            関連業務: ${HUMAN_TO_WORK[h.key] ? HUMAN_TO_WORK[h.key].length : 0}件
                          </div>
                          <button 
                            onclick="openHumanDetail('${h.key}')"
                            class="text-xs text-blue-600 hover:text-blue-800 font-medium"
                          >
                            詳細
                          </button>
                        </div>
                      </div>
                    `;
                  }).join('')}
                </div>
              </div>
            </div>
          `;
          }).join('')}
        </div>
      `;
    }

    function renderMyUnique() {
      const skillTotal = getSkillTotal();
      const challengePay = state.myUniqueChallenge;
      const totalUnique = skillTotal + challengePay;

      return `
        <div class="space-y-6">
          <div class="bg-gradient-to-br from-indigo-600 to-purple-700 text-white rounded-lg shadow-xl p-6">
            <h2 class="text-2xl font-bold mb-2">✨ マイユニーク給</h2>
            <p class="text-indigo-100">あなたらしい挑戦や個性を評価する給与</p>
            <div class="mt-4 bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 inline-block">
              <div class="text-xs text-indigo-100">合計ユニーク給</div>
              <div class="text-2xl font-bold">${formatNumber(totalUnique)}円</div>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-indigo-700 mb-4">🎯 マイユニークチャレンジ</h3>
            <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 mb-4">
              <p class="text-sm text-gray-700 mb-4">上司との対話を通じて、あなた独自の挑戦目標を設定します。達成時に5,000円が加算されます。</p>
              
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">あなたのチャレンジ目標</label>
                <textarea 
                  id="challengeTextInput2"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 text-sm"
                  rows="4"
                  placeholder="例：新メニューの提案と実装、スタッフ育成プログラムの作成、6ヶ月で10kg減量..."
                  onchange="updateChallengeText()"
                >${state.challengeText}</textarea>
              </div>
              
              <div class="flex items-center gap-3">
                <input 
                  type="checkbox" 
                  id="challengeCheck"
                  ${state.challengeDialogChecked ? 'checked' : ''}
                  onchange="toggleChallengeDialog()"
                  class="w-5 h-5 text-indigo-600 rounded focus:ring-2 focus:ring-indigo-500"
                >
                <label for="challengeCheck" class="font-semibold text-gray-800 cursor-pointer">
                  ${state.challengeDialogChecked ? '✅ 対話完了・目標設定済み（+5,000円）' : '上司との対話を完了して目標を確定する'}
                </label>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-purple-700 mb-4">🏆 スキル給（最大2つまで）</h3>
            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 mb-4">
              <p class="text-sm text-gray-700">特定の専門スキルや資格に対する給与です。5,000円〜100,000円の範囲で設定できます。</p>
            </div>

            ${state.skills.length > 0 ? `
              <div class="space-y-3 mb-4">
                ${state.skills.map(skill => `
                  <div class="bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg p-4 flex items-center justify-between">
                    <div>
                      <div class="font-bold text-gray-800">${skill.name}</div>
                      <div class="text-sm text-gray-600">ティア: ${skill.tier}</div>
                    </div>
                    <div class="flex items-center gap-3">
                      <div class="text-xl font-bold text-purple-700">${formatNumber(skill.amount)}円</div>
                      <button 
                        onclick="removeSkill(${skill.id})"
                        class="px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 text-sm"
                      >
                        削除
                      </button>
                    </div>
                  </div>
                `).join('')}
              </div>
            ` : '<p class="text-gray-500 text-sm mb-4">まだスキル給が登録されていません</p>'}

            ${state.skills.length < 2 ? `
              <div class="border-t pt-4">
                <h4 class="font-semibold text-gray-800 mb-3">新しいスキル給を追加</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                  <input 
                    type="text" 
                    id="skillName"
                    placeholder="スキル名（例：調理師免許）"
                    class="px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500"
                  >
                  <select 
                    id="skillTier"
                    class="px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500"
                  >
                    <option value="Bronze">Bronze</option>
                    <option value="Silver">Silver</option>
                    <option value="Gold">Gold</option>
                    <option value="Platinum">Platinum</option>
                  </select>
                  <input 
                    type="number" 
                    id="skillAmt"
                    placeholder="金額（5,000〜100,000）"
                    min="5000"
                    max="100000"
                    step="1000"
                    class="px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500"
                  >
                </div>
                <button 
                  onclick="addSkill()"
                  class="mt-3 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 font-semibold"
                >
                  スキル給を追加
                </button>
              </div>
            ` : '<p class="text-sm text-gray-600 bg-gray-100 p-3 rounded-md">スキル給は最大2つまで登録できます</p>'}
          </div>
        </div>
      `;
    }

    function renderRole() {
      return `
        <div class="space-y-6">
          <div class="bg-gradient-to-br from-blue-600 to-cyan-600 text-white rounded-lg shadow-xl p-6">
            <h2 class="text-2xl font-bold mb-2">👔 役職・役割給</h2>
            <p class="text-blue-100">組織における役割や責任に応じた給与</p>
          </div>

          <!-- 1. 定義 -->
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-blue-700 mb-4 flex items-center gap-2">
              <span>📝</span>
              <span>1. 定義</span>
            </h3>
            <div class="space-y-4 text-gray-700">
              <p class="leading-relaxed">
                役職・役割給とは、組織の中で<strong>一定以上の責任や影響力を担っている状態</strong>に対して支給される報酬です。
              </p>
              <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                <p class="font-semibold text-blue-800 mb-2">重要なポイント</p>
                <ul class="space-y-2 text-sm">
                  <li class="flex items-start gap-2">
                    <span class="text-blue-600 mt-1">•</span>
                    <span>肩書そのものに支払われるものではなく、<strong>「今どんな役割を担っているか」「どんな責任を果たしているか」</strong>に基づいて決定されます</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <!-- 2. 支給の考え方 -->
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-cyan-700 mb-4 flex items-center gap-2">
              <span>💡</span>
              <span>2. 支給の考え方</span>
            </h3>
            <div class="space-y-3">
              <div class="bg-cyan-50 rounded-lg p-4 border-l-4 border-cyan-500">
                <p class="font-semibold text-cyan-800 mb-2">✓ 店長・SVなど、明確な役職に任命された場合</p>
                <p class="text-sm text-gray-700">→ <strong>役職給</strong>として支給します。</p>
              </div>
              <div class="bg-purple-50 rounded-lg p-4 border-l-4 border-purple-500">
                <p class="font-semibold text-purple-800 mb-2">✓ 育成・プロジェクト推進・新店立ち上げなど、役職と同等以上の役割を担っている場合</p>
                <p class="text-sm text-gray-700">→ <strong>役割給</strong>として支給します。</p>
              </div>
              <div class="bg-orange-50 rounded-lg p-4 border-l-4 border-orange-500">
                <p class="font-semibold text-orange-800 mb-2">✓ 役職や役割が終了した場合</p>
                <p class="text-sm text-gray-700">→ 該当する給が<strong>停止または見直し</strong>となります。</p>
              </div>
            </div>
          </div>

          <!-- 3. 運用ルール -->
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-green-700 mb-4 flex items-center gap-2">
              <span>⚙️</span>
              <span>3. 運用ルール</span>
            </h3>
            <div class="overflow-x-auto">
              <table class="w-full text-sm border-collapse">
                <thead>
                  <tr class="bg-green-100">
                    <th class="border border-green-300 px-4 py-3 text-left font-bold text-green-800">状況</th>
                    <th class="border border-green-300 px-4 py-3 text-left font-bold text-green-800">支給の扱い</th>
                    <th class="border border-green-300 px-4 py-3 text-left font-bold text-green-800">説明</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="hover:bg-green-50">
                    <td class="border border-gray-300 px-4 py-3">店長やSVに昇格した場合</td>
                    <td class="border border-gray-300 px-4 py-3 font-semibold text-blue-700">役職給を新たに支給</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">責任範囲の拡大に伴う報酬</td>
                  </tr>
                  <tr class="hover:bg-green-50">
                    <td class="border border-gray-300 px-4 py-3">店長を卒業し、他店の育成やPJに関わる場合</td>
                    <td class="border border-gray-300 px-4 py-3 font-semibold text-purple-700">役職給から役割給に移行</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">役職は外れるが、同等の責任を担っているため継続支給（または再設定）</td>
                  </tr>
                  <tr class="hover:bg-green-50">
                    <td class="border border-gray-300 px-4 py-3">役職を離れ、特定の役割もなくなった場合</td>
                    <td class="border border-gray-300 px-4 py-3 font-semibold text-orange-700">役職・役割給を終了</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">責任の終了に伴う見直し</td>
                  </tr>
                  <tr class="hover:bg-green-50">
                    <td class="border border-gray-300 px-4 py-3">新たなプロジェクト・育成・開発に参画した場合</td>
                    <td class="border border-gray-300 px-4 py-3 font-semibold text-green-700">役割給を新設または加算</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">期間・ミッションを定めたうえで付与</td>
                  </tr>
                  <tr class="hover:bg-green-50">
                    <td class="border border-gray-300 px-4 py-3">同時に複数の役割を担う場合</td>
                    <td class="border border-gray-300 px-4 py-3 font-semibold text-indigo-700">役割給を合算（上限あり）</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">全体のバランスと影響度をもとに判断</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- 4. 支給金額の目安 -->
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-purple-700 mb-4 flex items-center gap-2">
              <span>💰</span>
              <span>4. 支給金額の目安（例）</span>
            </h3>
            <div class="overflow-x-auto">
              <table class="w-full text-sm border-collapse">
                <thead>
                  <tr class="bg-purple-100">
                    <th class="border border-purple-300 px-4 py-3 text-left font-bold text-purple-800">区分</th>
                    <th class="border border-purple-300 px-4 py-3 text-left font-bold text-purple-800">想定される範囲</th>
                    <th class="border border-purple-300 px-4 py-3 text-left font-bold text-purple-800">金額目安（例）</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="hover:bg-purple-50">
                    <td class="border border-gray-300 px-4 py-3 font-semibold">店長・シェフ</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">店舗全体の責任者</td>
                    <td class="border border-gray-300 px-4 py-3 font-bold text-purple-700">30,000〜50,000円</td>
                  </tr>
                  <tr class="hover:bg-purple-50">
                    <td class="border border-gray-300 px-4 py-3 font-semibold">SV・統括</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">複数店舗の統括責任</td>
                    <td class="border border-gray-300 px-4 py-3 font-bold text-purple-700">70,000〜90,000円</td>
                  </tr>
                  <tr class="hover:bg-purple-50">
                    <td class="border border-gray-300 px-4 py-3 font-semibold">副店長・副料理長</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">店長・副店長を育てる／PJ推進</td>
                    <td class="border border-gray-300 px-4 py-3 font-bold text-purple-700">15,000〜25,000円</td>
                  </tr>
                  <tr class="hover:bg-purple-50">
                    <td class="border border-gray-300 px-4 py-3 font-semibold">セクションリーダー</td>
                    <td class="border border-gray-300 px-4 py-3 text-gray-700">セクション運営</td>
                    <td class="border border-gray-300 px-4 py-3 font-bold text-purple-700">5,000〜10,000円</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <p class="text-xs text-gray-600 mt-3">※金額は責任範囲・影響度・発揮度によって決定します。</p>
          </div>

          <!-- 5. 人間力（星）との関係 -->
          <div class="bg-gradient-to-br from-indigo-600 to-purple-600 text-white rounded-lg shadow-xl p-6">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
              <span>🌟</span>
              <span>5. 人間力（星）との関係</span>
            </h3>
            <div class="space-y-4">
              <div class="bg-white/20 backdrop-blur-sm rounded-lg p-4">
                <p class="text-indigo-100 leading-relaxed">
                  役職・役割給は<strong class="text-white">「責任」への報酬</strong>であり、<br>
                  人間力（星）は<strong class="text-white">「成長」への報酬</strong>です。
                </p>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                  <p class="font-semibold text-yellow-300 mb-2">役職・役割給は変動する</p>
                  <p class="text-sm text-indigo-100">役割が変われば見直し</p>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                  <p class="font-semibold text-yellow-300 mb-2">人間力（星）は積み上がる</p>
                  <p class="text-sm text-indigo-100">身につけた力は減らない</p>
                </div>
              </div>
              <div class="bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-900 rounded-lg p-5 mt-4">
                <p class="font-bold text-center text-lg">
                  「役職を離れても星は残る。<br>
                  人間力を磨くほど、次の役割へのチャンスが広がる。」
                </p>
                <p class="text-center text-sm mt-2">という成長循環を制度の軸としています。</p>
              </div>
            </div>
          </div>

          <!-- 役職ごとの必須条件 -->
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-2xl font-bold text-red-700 mb-6 flex items-center gap-2">
              <span>🎯</span>
              <span>役職ごとの必須条件</span>
            </h3>

            <div class="space-y-5">
              <!-- セクションリーダー -->
              <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-lg p-5 border-l-4 border-green-500">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-12 h-12 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-lg">🔹</div>
                  <div>
                    <h4 class="text-lg font-bold text-green-800">セクションリーダー</h4>
                    <p class="text-sm text-green-600">＋0.5万円</p>
                  </div>
                </div>
                <div class="bg-white rounded-lg p-4 border border-green-200">
                  <p class="font-semibold text-green-800 mb-2">必須条件</p>
                  <p class="text-gray-700"><strong>必須条件はありません。</strong></p>
                  <p class="text-sm text-gray-600 mt-2">👉 小さなリーダーシップを経験する登竜門として位置づけます。</p>
                </div>
              </div>

              <!-- 副店長・料理長 -->
              <div class="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-5 border-l-4 border-blue-500">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-12 h-12 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold text-lg">🔹</div>
                  <div>
                    <h4 class="text-lg font-bold text-blue-800">副店長・料理長</h4>
                    <p class="text-sm text-blue-600">＋1.5万円</p>
                  </div>
                </div>
                <div class="bg-white rounded-lg p-4 border border-blue-200">
                  <p class="font-semibold text-blue-800 mb-3">必須条件（Sprout以上）</p>
                  <ul class="space-y-2">
                    ${['原価・利益管理', 'コンプライアンス遵守', 'チーム協働'].map(workKey => {
                      const level = state.workLevels[workKey] || 'SEED';
                      const isSproutOrHigher = level === 'SPROUT' || level === 'HARVEST';
                      return `
                        <li class="flex items-center justify-between gap-2 bg-${isSproutOrHigher ? 'green' : 'gray'}-50 p-2 rounded">
                          <div class="flex items-center gap-2">
                            <span class="text-blue-600">🌱</span>
                            <span class="text-gray-700">${workKey}</span>
                          </div>
                          <span class="text-xs font-bold px-2 py-1 rounded ${isSproutOrHigher ? 'bg-green-500 text-white' : 'bg-gray-300 text-gray-700'}">
                            ${isSproutOrHigher ? '✓ 達成' : '未達'}
                          </span>
                        </li>
                      `;
                    }).join('')}
                  </ul>
                  <p class="text-sm text-gray-600 mt-3">👉 店長を補佐する立場として、数字・規律・チームに最低限関与できることが必須です。</p>
                </div>
              </div>

              <!-- 店長・シェフ -->
              <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-5 border-l-4 border-purple-500">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-12 h-12 rounded-full bg-purple-500 text-white flex items-center justify-center font-bold text-lg">🔹</div>
                  <div>
                    <h4 class="text-lg font-bold text-purple-800">店長・シェフ</h4>
                    <p class="text-sm text-purple-600">＋3万円</p>
                  </div>
                </div>
                <div class="bg-white rounded-lg p-4 border border-purple-200">
                  <p class="font-semibold text-purple-800 mb-3">必須条件（Harvest必須）</p>
                  <ul class="space-y-2">
                    ${['原価・利益管理', 'コンプライアンス遵守', 'チーム協働', '人材評価', '清潔・安全管理'].map(workKey => {
                      const level = state.workLevels[workKey] || 'SEED';
                      const isHarvest = level === 'HARVEST';
                      return `
                        <li class="flex items-center justify-between gap-2 bg-${isHarvest ? 'green' : 'gray'}-50 p-2 rounded">
                          <div class="flex items-center gap-2">
                            <span class="text-purple-600">🌾</span>
                            <span class="text-gray-700">${workKey}</span>
                          </div>
                          <span class="text-xs font-bold px-2 py-1 rounded ${isHarvest ? 'bg-green-500 text-white' : 'bg-gray-300 text-gray-700'}">
                            ${isHarvest ? '✓ 達成' : '未達'}
                          </span>
                        </li>
                      `;
                    }).join('')}
                  </ul>
                  <p class="text-sm text-gray-600 mt-3">👉 店舗の責任者として、人・数字・規律・環境のすべてを高水準で担うことを条件とします。</p>
                </div>
              </div>

              <!-- SV・統括 -->
              <div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-5 border-l-4 border-orange-500">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-12 h-12 rounded-full bg-orange-500 text-white flex items-center justify-center font-bold text-lg">🔹</div>
                  <div>
                    <h4 class="text-lg font-bold text-orange-800">SV・統括</h4>
                    <p class="text-sm text-orange-600">＋7万円〜</p>
                  </div>
                </div>
                <div class="bg-white rounded-lg p-4 border border-orange-200 space-y-4">
                  <div>
                    <p class="font-semibold text-orange-800 mb-3">業務内容（Harvest必須）</p>
                    <ul class="space-y-2">
                      ${['原価・利益管理', 'コンプライアンス遵守'].map(workKey => {
                        const level = state.workLevels[workKey] || 'SEED';
                        const isHarvest = level === 'HARVEST';
                        return `
                          <li class="flex items-center justify-between gap-2 bg-${isHarvest ? 'green' : 'gray'}-50 p-2 rounded">
                            <div class="flex items-center gap-2">
                              <span class="text-orange-600">🌾</span>
                              <span class="text-gray-700">${workKey}${workKey === 'コンプライアンス遵守' ? '（労務・会社法含む）' : ''}</span>
                            </div>
                            <span class="text-xs font-bold px-2 py-1 rounded ${isHarvest ? 'bg-green-500 text-white' : 'bg-gray-300 text-gray-700'}">
                              ${isHarvest ? '✓ 達成' : '未達'}
                            </span>
                          </li>
                        `;
                      }).join('')}
                    </ul>
                  </div>
                  <div>
                    <p class="font-semibold text-orange-800 mb-3">研修（必須修了）</p>
                    <ul class="space-y-2">
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">📚</span>
                        <div>
                          <p class="text-gray-700 font-semibold">財務研修</p>
                          <p class="text-sm text-gray-600">PLに加え、BS＝資産・負債・純資産を理解する</p>
                        </div>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">📚</span>
                        <div>
                          <p class="text-gray-700 font-semibold">会社法・ガバナンス研修</p>
                          <p class="text-sm text-gray-600">取締役・役員としての責任を学ぶ</p>
                        </div>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-orange-600 mt-1">📚</span>
                        <div>
                          <p class="text-gray-700 font-semibold">市場分析・戦略研修</p>
                          <p class="text-sm text-gray-600">トレンドやデータを経営に活かす</p>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <p class="text-sm text-gray-600 bg-orange-50 p-3 rounded">
                    👉 SVは店舗責任者としての基盤に加え、経営に参画する基礎知識を修めることを必須条件とします。
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- 制度メッセージ -->
          <div class="bg-gradient-to-br from-indigo-600 to-purple-700 text-white rounded-lg shadow-xl p-6">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
              <span>💬</span>
              <span>制度メッセージ</span>
            </h3>
            <div class="space-y-3 text-indigo-100 leading-relaxed">
              <p class="flex items-start gap-2">
                <span class="text-yellow-300 mt-1">✓</span>
                <span>役職給は<strong class="text-white">「責任を担える力の証」</strong>として支給されます。</span>
              </p>
              <p class="flex items-start gap-2">
                <span class="text-yellow-300 mt-1">✓</span>
                <span>副店長までは成長段階として <strong class="text-white">Sprout 到達</strong>を条件とし、</span>
              </p>
              <p class="flex items-start gap-2">
                <span class="text-yellow-300 mt-1">✓</span>
                <span>店長・シェフからは全領域で <strong class="text-white">Harvest 到達</strong>を必須とします。</span>
              </p>
              <p class="flex items-start gap-2">
                <span class="text-yellow-300 mt-1">✓</span>
                <span>SVは店舗責任の上に、<strong class="text-white">必須研修修了</strong>をもって会社経営の一員として認められます。</span>
              </p>
            </div>
          </div>
        </div>
      `;
    }

    function renderResources() {
      return `
        <div class="space-y-6">
          <div class="bg-gradient-to-br from-green-600 to-teal-600 text-white rounded-lg shadow-xl p-6">
            <h2 class="text-2xl font-bold mb-2">📚 資料・説明</h2>
            <p class="text-green-100">制度の詳細や運用ガイド</p>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-green-700 mb-4">📖 制度の全体像</h3>
            <div class="space-y-4 text-gray-700">
              <div class="bg-green-50 border-l-4 border-green-500 p-4">
                <h4 class="font-bold text-green-800 mb-2">給与の構成要素</h4>
                <div class="space-y-2 text-sm">
                  <p><strong>1. 基本給</strong> = 人間力の星数に応じた給与レンジ</p>
                  <p><strong>2. マイユニーク給</strong> = スキル給 + チャレンジ給</p>
                  <p><strong>3. 役職・役割給</strong> = 担当する役割に応じた給与</p>
                  <p class="pt-2 border-t border-green-200 font-semibold">合計給与 = 基本給 + マイユニーク給 + 役職・役割給</p>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-teal-700 mb-4">🌟 星の獲得方法</h3>
            <div class="space-y-3">
              <div class="bg-teal-50 rounded-lg p-4">
                <h4 class="font-bold text-teal-800 mb-2">SEED（種）→ SPROUT（芽）→ HARVEST（収穫）</h4>
                <ul class="space-y-2 text-sm text-gray-700">
                  <li><strong>SEED：</strong>まだ取り組んでいない状態（★0）</li>
                  <li><strong>SPROUT：</strong>業務ができるようになった状態（★0.5）</li>
                  <li><strong>HARVEST：</strong>業務を極め、他者に教えられる状態（★1）</li>
                </ul>
              </div>
              <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <p class="text-sm text-gray-700"><strong>重要：</strong>1つの業務を達成すると、関連する複数の人間力に星が加算されます。例えば「顧客体験・応対」をSPROUTにすると、表現力・感性力・感謝力・ユーモア力の4つに★0.5ずつ加算されます。</p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-purple-700 mb-4">⭐ 星付与ルール（明文化）</h3>
            
            <div class="space-y-6">
              <!-- 1. 星の付与単位 -->
              <div class="bg-purple-50 rounded-lg p-5 border-l-4 border-purple-500">
                <h4 class="font-bold text-purple-800 mb-3 text-lg">1. 星の付与単位</h4>
                <ul class="space-y-2 text-gray-700">
                  <li class="flex items-start gap-2">
                    <span class="text-purple-600 mt-1">•</span>
                    <span>星は<strong>「人間力」</strong>に付与される</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="text-purple-600 mt-1">•</span>
                    <span>業務そのものに直接つくのではなく、<strong>業務を通じて磨かれる「人間力」に加算される</strong></span>
                  </li>
                </ul>
              </div>

              <!-- 2. Sprout/Harvestの違い -->
              <div class="bg-gradient-to-r from-yellow-50 to-green-50 rounded-lg p-5 border-l-4 border-yellow-500">
                <h4 class="font-bold text-gray-800 mb-3 text-lg">2. Sprout / Harvest の違い</h4>
                
                <div class="space-y-4">
                  <div class="bg-white rounded-lg p-4 border border-yellow-300">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="text-2xl">🌱</span>
                      <h5 class="font-bold text-yellow-700">Sprout（芽生え段階）… 0.5星</h5>
                    </div>
                    <ul class="space-y-1 text-sm text-gray-700 ml-8">
                      <li>• その業務に<strong>「取り組めるようになった」</strong>段階</li>
                      <li>• 関連するすべての人間力に <strong>0.5星が加算</strong>される</li>
                    </ul>
                  </div>

                  <div class="bg-white rounded-lg p-4 border border-green-300">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="text-2xl">🌾</span>
                      <h5 class="font-bold text-green-700">Harvest（収穫段階）… 1星</h5>
                    </div>
                    <ul class="space-y-1 text-sm text-gray-700 ml-8">
                      <li>• その業務を<strong>「自立的に遂行し、成果を出せる」</strong>段階</li>
                      <li>• 関連するすべての人間力に <strong>1星が加算</strong>される</li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- 3. 人間力と星の上限 -->
              <div class="bg-blue-50 rounded-lg p-5 border-l-4 border-blue-500">
                <h4 class="font-bold text-blue-800 mb-3 text-lg">3. 人間力と星の上限</h4>
                <ul class="space-y-2 text-gray-700">
                  <li class="flex items-start gap-2">
                    <span class="text-blue-600 mt-1">•</span>
                    <span>人間力は<strong>20項目</strong>存在する</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="text-blue-600 mt-1">•</span>
                    <span>各人間力は、最大で <strong>4星まで</strong>（Sprout／Harvestを複数業務から積み上げ可能）</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="text-blue-600 mt-1">•</span>
                    <span>よって <strong>理論上の総上限は 20 × 4 = 80星</strong></span>
                  </li>
                </ul>
              </div>

              <!-- 4. 星の実際の加算イメージ -->
              <div class="bg-gradient-to-r from-orange-50 to-pink-50 rounded-lg p-5 border-l-4 border-orange-500">
                <h4 class="font-bold text-orange-800 mb-3 text-lg">4. 星の実際の加算イメージ</h4>
                
                <div class="space-y-3">
                  <div class="bg-white rounded-lg p-4 border border-orange-200">
                    <p class="font-semibold text-gray-800 mb-2">例1：清潔・安全管理（Sprout）</p>
                    <p class="text-sm text-gray-700">→ 倫理観・継続力・美意識（各0.5星×3 = <strong class="text-orange-600">1.5星</strong>）</p>
                  </div>

                  <div class="bg-white rounded-lg p-4 border border-pink-200">
                    <p class="font-semibold text-gray-800 mb-2">例2：顧客体験・応対（Harvest）</p>
                    <p class="text-sm text-gray-700">→ 感性力・表現力・感謝力・ユーモア力（各1星×4 = <strong class="text-pink-600">4星</strong>）</p>
                  </div>

                  <div class="bg-gradient-to-r from-yellow-100 to-orange-100 rounded-lg p-4 mt-3">
                    <p class="text-sm font-semibold text-gray-800">👉 つまり<strong>「業務を1つ習得」＝「関連する複数の人間力に星がばら撒かれる」</strong>仕組み</p>
                  </div>
                </div>
              </div>

              <!-- 5. 星の活用 -->
              <div class="bg-indigo-50 rounded-lg p-5 border-l-4 border-indigo-500">
                <h4 class="font-bold text-indigo-800 mb-3 text-lg">5. 星の活用</h4>
                
                <ul class="space-y-3 text-gray-700">
                  <li class="flex items-start gap-2">
                    <span class="text-indigo-600 mt-1">•</span>
                    <span><strong>合計星数によって給与レンジが決まる</strong></span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="text-indigo-600 mt-1">•</span>
                    <div>
                      <p class="mb-2">星は<strong>「能力の広がりと深まりの可視化」</strong>であり、</p>
                      <ul class="ml-4 space-y-1 text-sm">
                        <li>🌱 <strong>Sprout：芽生え</strong> → 可能性の発見</li>
                        <li>🌾 <strong>Harvest：収穫</strong> → 強みとして定着</li>
                      </ul>
                    </div>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="text-indigo-600 mt-1">•</span>
                    <span>どの人間力に星が溜まっているかを見ることで、<strong>その人の個性・強み・成長の方向性が明確になる</strong></span>
                  </li>
                </ul>
              </div>

              <!-- キャリアパスへの反映 -->
              <div class="bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg p-5 border-2 border-purple-300">
                <h4 class="font-bold text-purple-800 mb-3 text-lg flex items-center gap-2">
                  <span>🎯</span>
                  <span>このルールで運用すると</span>
                </h4>
                
                <div class="space-y-3">
                  <div class="bg-white rounded-lg p-3 border border-purple-200">
                    <p class="text-sm text-gray-700"><strong>新人：</strong>広くSprout（0.5×多数）で星数を得る</p>
                  </div>
                  <div class="bg-white rounded-lg p-3 border border-purple-200">
                    <p class="text-sm text-gray-700"><strong>店長やシェフ：</strong>特定領域をHarvest（1×少数）で星数を得る</p>
                  </div>
                  <div class="bg-gradient-to-r from-purple-200 to-pink-200 rounded-lg p-4 mt-3">
                    <p class="font-semibold text-purple-900 text-center">👉 つまり<strong>「広さと深さのバランス」が自然にキャリアに反映される</strong></p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-pink-700 mb-4">✨ MY Unique（ユニーク給）とは？</h3>
            
            <div class="bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg p-5 mb-6 border-l-4 border-pink-500">
              <p class="text-gray-700 leading-relaxed mb-3">
                <strong>「MY Unique」</strong>は、必須業務や人間力だけでは測れない、<strong>あなた自身の個性や挑戦を評価する制度</strong>です。
              </p>
              <p class="text-gray-700 leading-relaxed">
                チャレンジとスペシャリティの2つから成り立ち、その成果は<strong>「ユニーク給」として給与に反映</strong>されます。
              </p>
            </div>

            <!-- 1. チャレンジ -->
            <div class="mb-6">
              <div class="bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-t-lg p-4">
                <h4 class="text-xl font-bold flex items-center gap-2">
                  <span>🎯</span>
                  <span>1. チャレンジ</span>
                </h4>
                <p class="text-sm text-blue-100 mt-1">自己成長と自己変革の推進</p>
              </div>
              
              <div class="bg-blue-50 rounded-b-lg p-5 border-2 border-blue-200">
                <div class="space-y-4">
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h5 class="font-bold text-blue-800 mb-2 flex items-center gap-2">
                      <span>📝</span>
                      <span>内容</span>
                    </h5>
                    <p class="text-gray-700 text-sm">
                      プライベートを含む<strong>個人的な目標を設定</strong>し、上長と共有する
                    </p>
                  </div>

                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h5 class="font-bold text-green-800 mb-2 flex items-center gap-2">
                      <span>💰</span>
                      <span>評価</span>
                    </h5>
                    <p class="text-gray-700 text-sm">
                      目標を設定し、上長と対話した時点で <strong class="text-green-600 text-lg">5,000円を支給</strong>
                    </p>
                  </div>

                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h5 class="font-bold text-purple-800 mb-3 flex items-center gap-2">
                      <span>💡</span>
                      <span>例</span>
                    </h5>
                    <ul class="space-y-2 text-sm text-gray-700">
                      <li class="flex items-start gap-2">
                        <span class="text-purple-500 mt-1">✓</span>
                        <span><strong>6ヶ月で10kg減量</strong>（継続力・セルフマネジメント）</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-purple-500 mt-1">✓</span>
                        <span><strong>週に1回、新しいレシピを試作</strong>（探究力・行動力）</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-purple-500 mt-1">✓</span>
                        <span><strong>興味分野の本を月2冊読む</strong>（探究力）</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <!-- 2. スペシャリティ -->
            <div class="mb-6">
              <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-lg p-4">
                <h4 class="text-xl font-bold flex items-center gap-2">
                  <span>🏆</span>
                  <span>2. スペシャリティ</span>
                </h4>
                <p class="text-sm text-purple-100 mt-1">個人のユニークなスキルや専門性を発掘・評価</p>
              </div>
              
              <div class="bg-purple-50 rounded-b-lg p-5 border-2 border-purple-200">
                <div class="space-y-4">
                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h5 class="font-bold text-purple-800 mb-2 flex items-center gap-2">
                      <span>📝</span>
                      <span>内容</span>
                    </h5>
                    <p class="text-gray-700 text-sm">
                      必須業務力には含まれない<strong>特別なスキルを登録</strong>（<strong class="text-purple-600">最大2枠まで</strong>）
                    </p>
                  </div>

                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h5 class="font-bold text-green-800 mb-2 flex items-center gap-2">
                      <span>💰</span>
                      <span>評価</span>
                    </h5>
                    <p class="text-gray-700 text-sm">
                      スキル給制度に基づき、活かし方・貢献度に応じて<br>
                      <strong class="text-green-600 text-lg">5,000円〜100,000円を支給</strong>
                    </p>
                  </div>

                  <div class="bg-white rounded-lg p-4 shadow-sm">
                    <h5 class="font-bold text-pink-800 mb-3 flex items-center gap-2">
                      <span>💡</span>
                      <span>例</span>
                    </h5>
                    <ul class="space-y-2 text-sm text-gray-700">
                      <li class="flex items-start gap-2">
                        <span class="text-pink-500 mt-1">✓</span>
                        <span><strong>ソムリエ資格</strong>を活かしたワインリスト構築・メーカーズディナー開催</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-pink-500 mt-1">✓</span>
                        <span><strong>語学力（英語・中国語など）</strong>を活かした接客</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-pink-500 mt-1">✓</span>
                        <span><strong>写真撮影・デザインスキル</strong>でSNS運用やメニュー作成</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-pink-500 mt-1">✓</span>
                        <span><strong>DIY</strong>による店舗改善</span>
                      </li>
                      <li class="flex items-start gap-2">
                        <span class="text-pink-500 mt-1">✓</span>
                        <span><strong>とびきりの愛嬌</strong>や<strong>顔と名前を覚える特技</strong></span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <!-- 給与への反映 -->
            <div class="bg-gradient-to-br from-indigo-100 to-purple-100 rounded-lg p-6 border-2 border-indigo-300">
              <h4 class="text-xl font-bold text-indigo-800 mb-4 flex items-center gap-2">
                <span>💵</span>
                <span>給与への反映</span>
              </h4>
              
              <div class="bg-white rounded-lg p-5 shadow-md">
                <div class="space-y-3">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold">1</div>
                    <div class="flex-1">
                      <p class="font-bold text-gray-800">基本給</p>
                      <p class="text-sm text-gray-600">人間力＝星の数で決まる</p>
                    </div>
                  </div>
                  
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full bg-pink-500 text-white flex items-center justify-center font-bold">2</div>
                    <div class="flex-1">
                      <p class="font-bold text-gray-800">MY Unique（ユニーク給）</p>
                      <p class="text-sm text-gray-600">チャレンジ + スペシャリティ</p>
                    </div>
                  </div>
                  
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full bg-indigo-500 text-white flex items-center justify-center font-bold">3</div>
                    <div class="flex-1">
                      <p class="font-bold text-gray-800">役職給</p>
                      <p class="text-sm text-gray-600">役割や責任に応じた給与</p>
                    </div>
                  </div>
                </div>
                
                <div class="mt-5 pt-5 border-t-2 border-indigo-200">
                  <p class="text-center text-lg font-bold text-indigo-800">
                    この3つを組み合わせて給与が決定します！
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold text-blue-700 mb-4">📊 基本給レンジ表</h3>
            <div class="overflow-x-auto">
              <table class="w-full text-sm">
                <thead class="bg-blue-100">
                  <tr>
                    <th class="px-4 py-2 text-left">星数</th>
                    <th class="px-4 py-2 text-left">基本給レンジ</th>
                    <th class="px-4 py-2 text-left">想定ステージ</th>
                  </tr>
                </thead>
                <tbody class="divide-y">
                  ${STAR_RANGES.map(range => `
                    <tr class="hover:bg-blue-50">
                      <td class="px-4 py-2">${range.min}〜${range.max === 999 ? '∞' : range.max}星</td>
                      <td class="px-4 py-2 font-semibold">${range.range}</td>
                      <td class="px-4 py-2 text-gray-600">${range.stage}</td>
                    </tr>
                  `).join('')}
                </tbody>
              </table>
            </div>
          </div>

          <!-- 就業規則・服務規律違反に関する制度 -->
          <div class="bg-gradient-to-br from-red-50 to-orange-50 rounded-lg shadow-xl p-6 border-4 border-red-400">
            <div class="bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-lg p-5 mb-6 shadow-lg">
              <h3 class="text-2xl font-bold mb-2 flex items-center gap-2">
                <span>⚠️</span>
                <span>就業規則・服務規律違反に関する制度</span>
              </h3>
              <p class="text-red-100 text-sm">
                ルールを守ることも評価の一部です。違反は給与査定・ランク評価に影響します。
              </p>
            </div>

            <!-- 1. 基本方針 -->
            <div class="bg-white rounded-lg p-5 mb-5 shadow-md border-l-4 border-red-500">
              <h4 class="text-lg font-bold text-red-800 mb-3 flex items-center gap-2">
                <span>📋</span>
                <span>1. 基本方針</span>
              </h4>
              <div class="space-y-3 text-gray-700 text-sm leading-relaxed">
                <p>
                  バルニバービのすべてのスタッフは、<strong>「食べる、食べていただく仕事を通して、なりたい自分になる」</strong>という理念のもと、誠実で責任ある行動を取ることが求められます。
                </p>
                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-3 rounded">
                  <p class="font-semibold text-yellow-800 mb-1">ルールは「縛るためのもの」ではありません</p>
                  <p class="text-sm">就業規則・服務規律は、<strong>信頼・安全・成長を守るための約束</strong>です。</p>
                </div>
                <div class="bg-red-100 border-2 border-red-400 p-4 rounded-lg">
                  <p class="font-bold text-red-800 text-center">
                    ⚠️ 人間力が育まれていても、ルールを守れない状態が続く場合には、<br>
                    組織の信頼を損なうため、<span class="text-lg">給与査定・ランク評価に影響します。</span>
                  </p>
                </div>
              </div>
            </div>

            <!-- 2. 違反時の対応と給与への影響 -->
            <div class="bg-white rounded-lg p-5 mb-5 shadow-md border-l-4 border-orange-500">
              <h4 class="text-lg font-bold text-orange-800 mb-4 flex items-center gap-2">
                <span>📉</span>
                <span>2. 違反時の対応と給与への影響</span>
              </h4>

              <div class="space-y-4">
                <!-- (1) 軽微な違反 -->
                <div class="bg-yellow-50 rounded-lg p-4 border-2 border-yellow-300">
                  <h5 class="font-bold text-yellow-800 mb-2 flex items-center gap-2">
                    <span class="text-xl">⚡</span>
                    <span>(1) 軽微な違反・改善が見られない場合（半年間継続）</span>
                  </h5>
                  <ul class="space-y-2 text-sm text-gray-700 ml-6">
                    <li class="flex items-start gap-2">
                      <span class="text-yellow-600 mt-1">•</span>
                      <span>指導・面談を行い、改善支援を実施。</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-yellow-600 mt-1">•</span>
                      <span>半年を経過しても改善が見られない場合、当該期間の査定では<strong class="text-yellow-800">昇給・昇格対象外</strong>。</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-yellow-600 mt-1">•</span>
                      <span>さらに、<strong class="text-yellow-800">現在の給与レンジの下限額まで減額</strong>される場合があります。</span>
                    </li>
                  </ul>
                </div>

                <!-- (2) 改善が1年間見られない場合 -->
                <div class="bg-orange-50 rounded-lg p-4 border-2 border-orange-400">
                  <h5 class="font-bold text-orange-800 mb-2 flex items-center gap-2">
                    <span class="text-xl">⚠️</span>
                    <span>(2) 改善が1年間見られない場合</span>
                  </h5>
                  <ul class="space-y-2 text-sm text-gray-700 ml-6">
                    <li class="flex items-start gap-2">
                      <span class="text-orange-600 mt-1">•</span>
                      <span>人間力が高く評価されていても、服務規律違反または業務怠慢が継続する場合、<br>
                      → <strong class="text-orange-800 text-base">1ランク下の給与レンジに降格</strong>します。</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-orange-600 mt-1">•</span>
                      <span>降格により、<strong class="text-orange-800">役職給やスキル給など、連動する手当が一時的に剥奪</strong>される場合があります。</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-600 mt-1">✓</span>
                      <span>半年後に改善が認められた場合は、再びランクアップの対象となります。</span>
                    </li>
                  </ul>
                </div>

                <!-- (3) 重大な違反 -->
                <div class="bg-red-100 rounded-lg p-4 border-2 border-red-500">
                  <h5 class="font-bold text-red-800 mb-2 flex items-center gap-2">
                    <span class="text-xl">🚨</span>
                    <span>(3) 重大な違反（コンプライアンス・安全・ハラスメント等）</span>
                  </h5>
                  <ul class="space-y-2 text-sm text-gray-700 ml-6">
                    <li class="flex items-start gap-2">
                      <span class="text-red-600 mt-1">•</span>
                      <span>重大な就業規則違反、または会社・顧客・仲間に損害を与える行為が発覚した場合は、<br>
                      <strong class="text-red-800 text-base">即時に減給・降格・役職給停止</strong>の対象となります。</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-red-600 mt-1">•</span>
                      <span>内容により、<strong class="text-red-800">懲戒処分（出勤停止・減給・解雇等）</strong>を含めた対応を行います。</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- 3. 対象となる違反例 -->
            <div class="bg-white rounded-lg p-5 mb-5 shadow-md border-l-4 border-purple-500">
              <h4 class="text-lg font-bold text-purple-800 mb-3 flex items-center gap-2">
                <span>📝</span>
                <span>3. 対象となる違反例（抜粋）</span>
              </h4>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                ${[
                  '遅刻・無断欠勤・報告義務違反の常習化',
                  'コンプライアンス違反（労務・衛生・安全・情報漏洩等）',
                  'セクシュアルハラスメント・パワーハラスメント等の行為',
                  '金銭・備品の不正利用、虚偽報告',
                  'SNS等による信用毀損行為'
                ].map(item => `
                  <div class="bg-purple-50 rounded p-3 border border-purple-200">
                    <p class="text-sm text-gray-700 flex items-start gap-2">
                      <span class="text-purple-600 mt-0.5">⚠</span>
                      <span>${item}</span>
                    </p>
                  </div>
                `).join('')}
              </div>
            </div>

            <!-- 4. 回復・再評価のプロセス -->
            <div class="bg-white rounded-lg p-5 mb-5 shadow-md border-l-4 border-green-500">
              <h4 class="text-lg font-bold text-green-800 mb-3 flex items-center gap-2">
                <span>🌱</span>
                <span>4. 回復・再評価のプロセス</span>
              </h4>
              <div class="space-y-3 text-sm text-gray-700">
                <div class="bg-green-50 rounded-lg p-3 border border-green-200">
                  <p class="flex items-start gap-2">
                    <span class="text-green-600 mt-0.5">✓</span>
                    <span>違反や怠慢が改善され、<strong class="text-green-800">半年間の安定した実績と誠実な行動</strong>が確認できた場合、元のレンジ・役職給を回復可能とします。</span>
                  </p>
                </div>
                <div class="bg-green-50 rounded-lg p-3 border border-green-200">
                  <p class="flex items-start gap-2">
                    <span class="text-green-600 mt-0.5">✓</span>
                    <span>再評価は<strong class="text-green-800">「人間力」「業務内容」「行動の一貫性」</strong>に基づいて行われます。</span>
                  </p>
                </div>
                <div class="bg-gradient-to-r from-green-100 to-blue-100 rounded-lg p-4 border-2 border-green-400">
                  <p class="font-semibold text-green-900 text-center">
                    💚 「失敗を成長に変える姿勢」も評価対象とし、再スタートを正当に支援します。
                  </p>
                </div>
              </div>
            </div>

            <!-- 5. 制度メッセージ -->
            <div class="bg-gradient-to-br from-blue-600 to-purple-600 text-white rounded-lg p-6 shadow-lg">
              <h4 class="text-xl font-bold mb-4 flex items-center gap-2">
                <span>💎</span>
                <span>5. 制度メッセージ</span>
              </h4>
              <div class="space-y-3 text-blue-50 leading-relaxed">
                <p class="flex items-start gap-2">
                  <span class="text-yellow-300 mt-1">★</span>
                  <span><strong class="text-white">人間力が高い人ほど、誠実さ・規律・信頼が伴う。</strong></span>
                </p>
                <p class="flex items-start gap-2">
                  <span class="text-yellow-300 mt-1">★</span>
                  <span>この制度は、<strong class="text-white">罰ではなく信頼を守る仕組み</strong>です。</span>
                </p>
                <div class="bg-white/20 backdrop-blur-sm rounded-lg p-4 mt-4">
                  <p class="text-white font-bold text-center text-lg">
                    ルールを守ることが「なりたい自分になる」ための第一歩であり、<br>
                    成長と信頼のバランスを大切にした人にこそ、<br>
                    <span class="text-yellow-300 text-xl">評価と報酬が還元されます。</span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderWorks() {
      const groupedWorks = {};
      WORKS.forEach(w => {
        if (!groupedWorks[w.group]) {
          groupedWorks[w.group] = [];
        }
        groupedWorks[w.group].push(w);
      });

      return `
        <div class="space-y-6">
          ${Object.entries(groupedWorks).map(([groupName, works]) => `
            <div class="bg-white rounded-lg shadow-lg p-6">
              <h2 class="text-xl font-bold text-blue-700 mb-4 border-b pb-2">${groupName}</h2>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                ${works.map(w => {
                  const level = state.workLevels[w.key] || 'SEED';
                  const isInProgress = state.workInProgress[w.key];
                  
                  return `
                    <div id="work-card-${w.key.replace(/[^a-zA-Z0-9]/g, '_')}" class="bg-white rounded-lg shadow-md card-hover border ${level !== 'SEED' ? 'border-l-4 border-yellow-500' : isInProgress ? 'border-l-4 border-blue-500' : 'border-gray-200'} transition-all">
                      <div class="p-4 pb-2">
                        <div class="flex items-center justify-between mb-1">
                          <div class="text-base font-semibold text-gray-800">${w.key}</div>
                          ${getLevelBadge(level)}
                        </div>
                        <button 
                          onclick="openWorkDetail('${w.key}')"
                          class="text-xs text-blue-600 hover:text-blue-800 font-medium mt-1"
                        >
                          📖 詳細を見る
                        </button>
                      </div>
                      <div class="px-4 pb-3 border-t pt-3">
                        <div class="flex items-center gap-2 mb-2">
                          <input 
                            type="checkbox" 
                            id="work_${w.key.replace(/[^a-zA-Z0-9]/g, '_')}" 
                            ${isInProgress ? 'checked' : ''}
                            onchange="toggleWorkInProgress('${w.key}')"
                            class="w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"
                          >
                          <label for="work_${w.key.replace(/[^a-zA-Z0-9]/g, '_')}" class="text-xs font-medium text-gray-700 cursor-pointer">
                            ${isInProgress ? '✅ 今期取り組み中' : '取り組む業務に設定'}
                          </label>
                        </div>
                        <select 
                          class="w-full h-8 text-sm px-2 py-1 border rounded-md focus:ring-2 focus:ring-blue-500"
                          onchange="changeWorkLevel('${w.key}', this.value)"
                        >
                          <option value="SEED" ${level === 'SEED' ? 'selected' : ''}>SEED（未着手・★0）</option>
                          <option value="SPROUT" ${level === 'SPROUT' ? 'selected' : ''}>SPROUT（達成・★0.5）</option>
                          <option value="HARVEST" ${level === 'HARVEST' ? 'selected' : ''}>HARVEST（極めた・★1）</option>
                        </select>
                      </div>
                    </div>
                  `;
                }).join('')}
              </div>
            </div>
          `).join('')}
        </div>
      `;
    }

    // 初期化
    loadState();
    calculateStars();
    render();
    
    // レーダーチャートを描画（レンダリング後に実行）
    setTimeout(() => {
      if (state.activeTab === 'dashboard') {
        drawRadarChart();
      }
    }, 100);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99e43c9bc3fad4e7',t:'MTc2MzA5OTQ4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
